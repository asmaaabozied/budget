var Pe=Object.defineProperty;var Fe=(e,s,i)=>s in e?Pe(e,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[s]=i;var K=(e,s,i)=>(Fe(e,typeof s!="symbol"?s+"":s,i),i);import{l as Ae,P as Ue,a as se,c as xe,_ as b,r as h,o as d,b as m,d as t,t as c,e as k,f,w as me,m as S,g as y,h as g,C as te,i as j,j as _,v as I,n as v,k as T,L as oe,F as A,p as U,q as M,s as B,u as G,T as Ne,x as Re,y as We,z as Oe,A as ie,B as pe,D as ue,E as _e,G as V,H as Ve,I as O,J as he,K as je,M as Me,N as Ke,O as De,Q as qe,R as re,S as He,U as Be,V as Ge,W as ce,X as Ye,Y as ze,Z as Je,$ as Xe,a0 as Qe,a1 as Ze,a2 as es,a3 as ke,a4 as ge,a5 as ss}from"./vendor.6498ccac.js";window._=Ae;window.Popper=Ue;const ts={userData:"",ability:"",isLoggegdIn:!1,isLoading:!0,showResponseMsg:{show:!1,message:"",type:"error",position:"top-right",duration:1e4,dismissible:!0},activeworkspace:null,activeTask:{},workspaces:[],companyUsers:[],activeworkspaceUsers:[],loginUserFormErrors:{},logoutUserFormErrors:{},createTaskFormErrors:{},createListFormErrors:{},createSpaceFormErrors:{},createCommentFormErrors:{},linkFormErrors:{}},os={userData:e=>e.userData,ability:e=>e.ability,isLoggegdIn:e=>e.isLoggegdIn,showResponseMsg:e=>e.showResponseMsg,isLoading:e=>e.isLoading,allworkspaces:e=>e.workspaces,companyUsers:e=>e.companyUsers,activeworkspace:e=>e.activeworkspace,activeTask:e=>e.activeTask,unarchivedworkspaces:e=>e.workspaces.filter(s=>!s.archived),archivedworkspaces:e=>e.workspaces.filter(s=>s.archived),archivedLists:e=>e.activeworkspace?e.activeworkspace.statuses.filter(s=>s.archived):[],unarchivedLists:e=>e.activeworkspace?e.activeworkspace.statuses.filter(s=>!s.archived):[],loginUserFormErrors:e=>e.loginUserFormErrors,logoutUserFormErrors:e=>e.logoutUserFormErrors,createTaskFormErrors:e=>e.createTaskFormErrors,createListFormErrors:e=>e.createListFormErrors,createSpaceFormErrors:e=>e.createSpaceFormErrors,createCommentFormErrors:e=>e.createCommentFormErrors,linkFormErrors:e=>e.linkFormErrors},is={loginEndpoint:"/jwt/login",registerEndpoint:"/jwt/register",refreshEndpoint:"/jwt/refresh-token",logoutEndpoint:"/jwt/logout",tokenType:"Bearer",storageTokenKeyName:"accessToken",storageRefreshTokenKeyName:"refreshToken"};class as{constructor(s,i){K(this,"axiosIns",null);K(this,"jwtConfig",{...is});K(this,"isAlreadyFetchingAccessToken",!1);K(this,"subscribers",[]);this.axiosIns=s,this.jwtConfig={...this.jwtConfig,...i},this.axiosIns.interceptors.request.use(r=>{const o=this.getToken();return o&&(r.headers.Authorization=`${this.jwtConfig.tokenType} ${o}`),r},r=>Promise.reject(r)),this.axiosIns.interceptors.response.use(r=>r,r=>{const{config:o,response:a}=r,n=o;return a&&a.status===401?(this.isAlreadyFetchingAccessToken||(this.isAlreadyFetchingAccessToken=!0,this.refreshToken().then(p=>{this.isAlreadyFetchingAccessToken=!1,this.setToken(p.data.accessToken),this.setRefreshToken(p.data.refreshToken),this.onAccessTokenFetched(p.data.accessToken)})),new Promise(p=>{this.addSubscriber(u=>{n.headers.Authorization=`${this.jwtConfig.tokenType} ${u}`,p(this.axiosIns(n))})})):Promise.reject(r)})}onAccessTokenFetched(s){this.subscribers=this.subscribers.filter(i=>i(s))}addSubscriber(s){this.subscribers.push(s)}getToken(){return localStorage.getItem(this.jwtConfig.storageTokenKeyName)}getRefreshToken(){return localStorage.getItem(this.jwtConfig.storageRefreshTokenKeyName)}setToken(s){localStorage.setItem(this.jwtConfig.storageTokenKeyName,s)}setRefreshToken(s){localStorage.setItem(this.jwtConfig.storageRefreshTokenKeyName,s)}login(...s){return this.axiosIns.post(this.jwtConfig.loginEndpoint,...s)}register(...s){return this.axiosIns.post(this.jwtConfig.registerEndpoint,...s)}refreshToken(){return this.axiosIns.post(this.jwtConfig.refreshEndpoint,{refreshToken:this.getRefreshToken()})}}function ns(e,s){return{jwt:new as(e,s)}}const{jwt:W}=ns(se,{}),Y=()=>{let e=document.querySelector('meta[name="csrf-token"]').content;return typeof e!=null&&typeof e!=null&&typeof e=="string"?e:localStorage.getItem("userData")&&localStorage.getItem(W.jwtConfig.storageTokenKeyName)};let Z=window.loggedInWebUser;typeof Z!=null&&typeof Z!=null&&typeof Z=="object"||JSON.parse(localStorage.getItem("userData"));const rs=e=>e.includes("Super Admin")||e.includes("manger")?"home":e.includes("Employee")?{name:"home"}:{name:"auth-login"},w=se.create({baseURL:cs()});w.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";w.defaults.withCredentials=!0;function cs(){switch("production"){case"production":return"https://budget.help/api/v1";case"development":return"https://test.budget.help/api/v1";case"local":return"https://budget.test/api/v1";default:return"https://budget.help/api/v1"}}w.interceptors.request.use(e=>{const s=Y();return s&&(e.headers.Authorization="Bearer "+s),e},e=>{Promise.reject(e)});w.interceptors.response.use(e=>e,e=>Promise.reject(e));const ls={LOGIN_USER(e,s){let i=s.router;w.post("/tasks/auth/login",{email:s.email,password:s.password,remember_me:s.remember_me}).then(r=>{const o=r.data.userData;W.setToken(r.data.accessToken),W.setRefreshToken(r.data.refreshToken),localStorage.setItem("userData",JSON.stringify(o)),o&&(window.emitter.emit("open-toast-msg",{type:"success",message:"Welcome ,, You Are Loggeged In Successfully ^_^"}),i.push({name:"workspaces"}))}).catch(r=>{r.response.data.message&&window.emitter.emit("open-toast-msg",{type:"error",message:r.response.data.message}),e.loginUserFormErrors=r.response.data.errors})},LOGOUT_USER(e,s){w.post("/tasks/auth/logout",{email:s.email}).then(i=>{i.data,W.setToken(""),W.setRefreshToken(""),localStorage.removeItem("userData"),localStorage.removeItem(W.jwtConfig.storageTokenKeyName),localStorage.removeItem(W.jwtConfig.storageRefreshTokenKeyName),this.$router.push({name:"auth-login"})}).catch(i=>{e.logoutUserFormErrors=i.response.data.errors})},SET_INITIAL_DATA(e,s){e.workspaces=s},SET_COMPANY_USERS(e,s){e.companyUsers=s},GET_COMPANY_USERS(e,s){return e.companyUsers?e.companyUsers:[]},SET_LOADING_STATE(e,s){e.isLoading=s},CREATE_NEW_WORKSPACE(e,s){const i=e.workspaces.find(o=>o.id==s.id);e.workspaces.findIndex(o=>o.id==s.id)>-1?(i.name=s.name,i.description=s.description,Object.assign(e.workspaces,{itemIdx:i})):w.post("/tasks/tasks_workspaces",{name:s.name,description:s.description,users:s.users}).then(o=>{let a=o.data.data;e.workspaces.push(a),o.data.message&&(window.emitter.emit("open-toast-msg",{type:"success",message:o.data.message}),e.createSpaceFormErrors={}),window.emitter.emit("close-workspace-popup")}).catch(o=>{o.response.data.message&&window.emitter.emit("open-toast-msg",{type:"error",message:o.response.data.message}),e.createSpaceFormErrors=o.response.data.errors})},UPDATE_WORKSPACE(e,s){return new Promise((i,r)=>{w.put(`/tasks/tasks_workspaces/${s.id}`,{name:s.name,description:s.description,users:s.users}).then(o=>{let a=o.data.data,n=e.workspaces.findIndex(l=>l.id==s.id);e.workspaces[n]=a,o.data.message&&(window.emitter.emit("open-toast-msg",{type:"success",message:o.data.message}),e.createSpaceFormErrors={}),window.emitter.emit("close-workspace-popup")}).catch(o=>{o.response.data.message&&window.emitter.emit("open-toast-msg",{type:"error",message:o.response.data.message}),e.createSpaceFormErrors=o.response.data.errors})})},DELTE_WORKSPACE(e,s){return new Promise((i,r)=>{w.delete(`/tasks/tasks_workspaces/${s.id}`).then(o=>{if(o.data.deleted){const a=e.workspaces.findIndex(n=>n.id==s.id);e.workspaces.find(n=>n.id==s.id),e.workspaces.splice(a,1),o.data.message&&(window.emitter.emit("open-toast-msg",{type:"warning",message:o.data.message}),window.emitter.emit("close-workspace-popup"))}}).catch(o=>{o.response.data.error&&window.emitter.emit("open-toast-msg",{type:"error",message:o.response.data.error})})})},ARCHIVE_WORKSPACE(e,s){const i=e.workspaces.find(r=>r.id==s.workspaceId);e.workspaces.findIndex(r=>r.id==s.workspaceId),i.archived=!0,Object.assign(e.workspaces,{workspaceIdx:i})},RESTORE_WORKSPACE(e,s){const i=e.workspaces.find(r=>r.id==s.workspaceId);e.workspaces.findIndex(r=>r.id==s.workspaceId),i.archived=!1,Object.assign(e.workspaces,{workspaceIdx:i})},CREATE_NEW_LIST(e,s){const i=e.workspaces.find(r=>r.id==s.space_id);return new Promise((r,o)=>{w.post("/tasks/tasks_statuses",{space_id:s.space_id,name:s.name,color:s.color,position:s.position}).then(a=>{let n=a.data.data.data;i.statuses.push(n),e.activeworkspace.statuses.push(n),a.data.message&&(window.emitter.emit("open-toast-msg",{type:"success",message:a.data.message}),e.createListFormErrors={}),window.emitter.emit("close-list-popup")}).catch(a=>{a.response.data.message&&window.emitter.emit("open-toast-msg",{type:"error",message:a.response.data.message}),e.createListFormErrors=a.response.data.errors})})},UPDATE_LIST(e,s){return new Promise((i,r)=>{w.put(`/tasks/tasks_statuses/${s.id}`,{space_id:s.space_id,name:s.name,color:s.color,position:s.position}).then(o=>{const a=o.data.data.data,n=e.workspaces.find(p=>p.id==s.space_id),l=n.statuses.findIndex(p=>p.id==s.id);n.statuses[l]=a,e.activeworkspace.statuses[l]=a,o.data.message&&(window.emitter.emit("open-toast-msg",{type:"success",message:o.data.message}),e.createListFormErrors={}),window.emitter.emit("close-list-popup")}).catch(o=>{o.data.message&&window.emitter.emit("open-toast-msg",{type:"error",message:o.data.message}),e.createListFormErrors=o.response.data.errors})})},DELTE_LIST(e,s){return new Promise((i,r)=>{w.delete(`/tasks/tasks_statuses/${s.id}`).then(o=>{if(o.data.deleted){const a=e.workspaces.find(l=>l.id==s.space_id),n=a.statuses.findIndex(l=>l.id==s.id);a.statuses.splice(n,1),e.activeworkspace.statuses.splice(n,1),o.data.message&&window.emitter.emit("open-toast-msg",{type:"warning",message:o.data.message})}}).catch(o=>{o.response.data.error&&window.emitter.emit("open-toast-msg",{type:"error",message:o.response.data.error})})})},CREATE_LINK(e,s){const i=e.workspaces.find(r=>r.id==s.space_id);return new Promise((r,o)=>{w.post("/tasks/workspace_links",{space_id:s.space_id,name:s.name,link:s.link,icon:s.icon,icon_color:s.icon_color,parent_id:s.parent_id,notes:s.notes}).then(a=>{let n=a.data.data;i.links.push(n),e.activeworkspace.links.push(n),a.data.message&&(window.emitter.emit("open-toast-msg",{type:"success",message:a.data.message}),e.linkFormErrors={}),window.emitter.emit("close-link-popup")}).catch(a=>{a.message&&window.emitter.emit("open-toast-msg",{type:"success",message:a.message}),e.linkFormErrors=a.response.data.errors})})},UPDATE_LINK(e,s){return new Promise((i,r)=>{w.put(`/tasks/workspace_links/${s.id}`,{space_id:s.space_id,name:s.name,link:s.link,icon:s.icon,icon_color:s.icon_color,parent_id:s.parent_id,notes:s.notes}).then(o=>{const a=o.data.data,n=e.workspaces.find(p=>p.id==s.space_id),l=n.links.findIndex(p=>p.id==s.id);n.links[l]=a,e.activeworkspace.links[l]=a,o.data.message&&(window.emitter.emit("open-toast-msg",{type:"success",message:o.data.message}),e.linkFormErrors={}),window.emitter.emit("close-link-popup")}).catch(o=>{o.data.message&&window.emitter.emit("open-toast-msg",{type:"error",message:o.data.message}),e.linkFormErrors=o.data.errors})})},DELTE_LINK(e,s){return new Promise((i,r)=>{w.delete(`/tasks/workspace_links/${s.id}`).then(o=>{if(o.data.deleted){const a=e.workspaces.find(l=>l.id==s.space_id),n=a.links.findIndex(l=>l.id==s.id);n>-1&&(a.statuses.splice(n,1),e.activeworkspace.statuses.splice(n,1)),o.data.message&&window.emitter.emit("open-toast-msg",{type:"success",message:o.data.message})}}).catch(o=>{o.response.data.error&&window.emitter.emit("open-toast-msg",{type:"error",message:o.response.data.message})})})},ARCHIVE_TASKLIST(e,s){const i=e.workspaces.find(o=>o.id==s.workspaceId),r=i.statuses.find(o=>o.id==s.listId);i.statuses.findIndex(o=>o.id==s.listId),r.archived=!0,Object.assign(i.statuses,{listIdx:r})},RESTORE_TASKLIST(e,s){const i=e.workspaces.find(o=>o.id==s.workspaceId),r=i.statuses.find(o=>o.id==s.listId);i.statuses.findIndex(o=>o.id==s.listId),r.archived=!1,Object.assign(i.statuses,{listIdx:r})},REORDER_SPACE_LISTS(e,s){const i=e.workspaces.find(r=>r.id==s.space_id);Object.assign(i,{lists:s.lists})},REORDER_LIST_TASKS(e,s){let i=s.tasks.map(function(r,o){return r.order=o+1,r.status_id=s.new_status_id,r});return new Promise((r,o)=>{w.post("/tasks/reorder_tasks",{tasks:i}).then(a=>{if(a.data){const n=e.workspaces.find(p=>p.id==s.space_id),l=n.statuses.findIndex(p=>p.id==s.new_status_id);Object.assign(n.statuses[l],{tasks:i}),a.data.message&&window.emitter.emit("open-toast-msg",{type:"success",message:a.data.message})}else return}).catch(a=>{a.response.data.message&&window.emitter.emit("open-toast-msg",{type:"error",message:a.response.data.message})})})},GET_ACTIVE_WORKSPACE(e,s){return new Promise((i,r)=>{w.get(`/tasks/tasks_workspaces/${s.space_id}`).then(o=>{e.activeworkspace=o.data.data}).catch(o=>{o.response.data.message&&window.emitter.emit("open-toast-msg",{type:"error",message:o.response.data.message}),e.createSpaceFormErrors=o.response.data.errors})})},CREATE_NEW_TASK(e,s){return new Promise((i,r)=>{w.post("/tasks/tasks",{name:s.name,description:s.description,space_id:s.space_id,status_id:s.status_id,priority:s.priority,progress:s.progress,expiry_time:s.expiry_time,users:s.users,attachments:s.attachments}).then(o=>{const a=o.data.data,l=e.workspaces.find(u=>u.id==s.space_id).statuses.find(u=>u.id==s.status_id),p=e.activeworkspace.statuses.find(u=>u.id==s.status_id);l.tasks.unshift(a),p.tasks.unshift(a),o.data.message&&(window.emitter.emit("open-toast-msg",{type:"success",message:o.data.message}),e.createTaskFormErrors={}),window.emitter.emit("close-task-popup")}).catch(o=>{o.response.data.message&&window.emitter.emit("open-toast-msg",{type:"error",message:o.response.data.message}),e.createTaskFormErrors=o.response.data.errors})})},UPDATE_TASK(e,s){return new Promise((i,r)=>{w.put(`/tasks/tasks/${s.id}`,{id:s.id,name:s.name,description:s.description,space_id:s.space_id,status_id:s.status_id,priority:s.priority,progress:s.progress,expiry_time:s.expiry_time,users:s.users,attachments:s.attachments}).then(o=>{const a=e.workspaces.find(E=>E.id==s.space_id),n=o.data.data,l=s.old_status_id,p=a.statuses.find(E=>E.id==l),u=e.activeworkspace.statuses.find(E=>E.id==l),L=a.statuses.find(E=>E.id==n.status_id),N=e.activeworkspace.statuses.find(E=>E.id==n.status_id),x=p.tasks.findIndex(E=>E.id==s.id);n.status_id!=l?(p.tasks.splice(x,1),u.tasks.splice(x,1),L.tasks.unshift(n),N.tasks.unshift(n)):(p.tasks[x]=n,u.tasks[x]=n),o.data.message&&(window.emitter.emit("open-toast-msg",{type:"success",message:o.data.message}),e.createTaskFormErrors={}),window.emitter.emit("close-task-popup")}).catch(o=>{o.response.data.message&&window.emitter.emit("open-toast-msg",{type:"error",message:o.response.data.message}),e.createTaskFormErrors=o.response.data.errors})})},DELTE_TASK(e,s){return new Promise((i,r)=>{w.delete(`/tasks/tasks/${s.id}`).then(o=>{if(o.data.deleted){const n=e.workspaces.find(u=>u.id==s.space_id).statuses.find(u=>u.id==s.status_id),l=e.activeworkspace.statuses.find(u=>u.id==s.status_id),p=n.tasks.findIndex(u=>u.id==s.id);p>-1&&(n.tasks.splice(p,1),l.tasks.splice(p,1)),o.data.message&&window.emitter.emit("open-toast-msg",{type:"warning",message:o.data.message})}}).catch(o=>{o.response.data.error&&window.emitter.emit("open-toast-msg",{type:"error",message:o.response.data.message})})})},FETCH_ACTIVE_TASK(e,s){return new Promise((i,r)=>{w.get(`/tasks/task/get_task_byslug/${s.slug}`).then(o=>{o.data&&(e.activeTask=o.data.data)}).catch(o=>{o.response.data.message&&window.emitter.emit("open-toast-msg",{type:"error",message:o.response.data.message})})})},RESET_ACTIVE_TASK(e,s){e.activeTask={}},FETCH_TASK_COMMENTS(e,s){return new Promise((i,r)=>{w.delete(`/tasks/comments/${s.task_id}`).then(o=>{if(o.data.deleted){const n=e.workspaces.find(p=>p.id==s.space_id).statuses.find(p=>p.id==s.status_id);n.tasks.findIndex(p=>p.id==s.id)>-1&&delete n.tasks.taskIdx}}).catch(o=>{o.response.data.message&&window.emitter.emit("open-toast-msg",{type:"error",message:o.response.data.message})})})},CREATE_TASK_COMMENT(e,s){let i=s.parent?s.parent:null;return new Promise((r,o)=>{w.post("/tasks/comments",{content:s.content,task_id:s.task_id,parent_id:i?i.id:null}).then(a=>{if(a.data.data){const n=e.activeTask,l=a.data.data;l.parent_id?n.comments.find(u=>u.id==i.id).replies.push(l):n.comments.push(l),a.data.message&&window.emitter.emit("open-toast-msg",{type:"success",message:a.data.message}),window.emitter.emit("reset-comment-form-content")}}).catch(a=>{o.response.data.message&&window.emitter.emit("open-toast-msg",{type:"error",message:a.response.data.message}),e.createCommentFormErrors=a.response.data.errors})})}},ds="/tasks/tasks_workspaces",ms={async loginUser({commit:e},s){e("LOGIN_USER",s)},async logoutUser({commit:e},s){e("LOGOUT_USER",s)},async fetchData({commit:e},s){return e("SET_LOADING_STATE",!0),w.get(ds).then(i=>{e("SET_INITIAL_DATA",i.data.data),e("SET_LOADING_STATE",!1)})},async fetchCompanyUsers({commit:e},s){return w.get("/tasks/company_users_list").then(i=>{let r=i.data.data;e("SET_COMPANY_USERS",r)})},async getCompanyUsers({commit:e},s){await e("GET_COMPANY_USERS")},async getWorkspaceUsers({commit:e},s){await e("GET_ACTIVE_WORKSPACE_USERS")},async saveWorkspace({commit:e},s){e("CREATE_NEW_WORKSPACE",s)},async UpdateWorkspace({commit:e},s){e("UPDATE_WORKSPACE",s)},async deleteWorkSpace({commit:e},s){e("DELTE_WORKSPACE",s)},async archiveWORKSPACE({commit:e},s){e("ARCHIVE_WORKSPACE",s)},async restoreWORKSPACE({commit:e},s){e("RESTORE_WORKSPACE",s)},async getActiveWorkspace({commit:e},s){e("GET_ACTIVE_WORKSPACE",s)},async createNewList({commit:e},s){e("CREATE_NEW_LIST",s)},async updateList({commit:e},s){e("UPDATE_LIST",s)},async deleteList({commit:e},s){e("DELTE_LIST",s)},async createNewLink({commit:e},s){e("CREATE_LINK",s)},async updateLink({commit:e},s){e("UPDATE_LINK",s)},async deleteLink({commit:e},s){e("DELTE_LINK",s)},async archiveTaskList({commit:e},s){e("ARCHIVE_TASKLIST",s)},async restoreTaskList({commit:e},s){e("RESTORE_TASKLIST",s)},async reorderSpaceLists({commit:e},s){e("REORDER_SPACE_LISTS",s)},async reorderListTasks({commit:e},s){e("REORDER_LIST_TASKS",s)},async createNewTask({commit:e},s){e("CREATE_NEW_TASK",s)},async updateTask({commit:e},s){e("UPDATE_TASK",s)},async deleteTask({commit:e},s){e("DELTE_TASK",s)},async fetchActiveTask({commit:e},s){e("FETCH_ACTIVE_TASK",s)},async resetActiveTask({commit:e},s){e("RESET_ACTIVE_TASK",s)},async fetchTaskComments({commit:e},s){e("FETCH_TASK_COMMENTS",s)},async createTaskComment({commit:e},s){e("CREATE_TASK_COMMENT",s)},async updateTaskComment({commit:e},s){e("UPDATE_TASK_COMMENT",s)},async deleteTaskComment({commit:e},s){e("DELETE_TASK_COMMENT",s)}};globalThis.emitter;const fe=xe({state:ts,getters:os,mutations:ls,actions:ms,modules:{}}),ps={name:"BreadCrumbs",props:{homeLink:String,homeTitle:String,mainTitle:String,taskLink:String,subTitle:String,subSubTitle:String,pageTitle:String,curentSpace:[String,Number]},data(){return{}}},us={class:"row"},_s={class:"col-12 d-block"},hs={class:"page-title-box"},ks={class:"page-title-right"},gs={class:"breadcrumb m-0"},fs={key:0,class:"breadcrumb-item"},ws=["href"],bs={key:1,class:"breadcrumb-item"},vs=["href"],Ts={key:2,class:"breadcrumb-item"},ys={key:3,class:"breadcrumb-item"},$s={key:4,class:"breadcrumb-item active"};function Ss(e,s,i,r,o,a){const n=h("router-link");return d(),m("div",us,[t("div",_s,[t("div",hs,[t("div",ks,[t("ol",gs,[this.homeLink?(d(),m("li",fs,[t("a",{href:this.homeLink},c(this.homeTitle),9,ws)])):k("",!0),this.mainTitle?(d(),m("li",bs,[t("a",{href:this.taskLink},c(this.mainTitle),9,vs)])):k("",!0),this.subTitle?(d(),m("li",Ts,[f(n,{to:{name:"workspaces"}},{default:me(()=>[t("a",null,c(this.subTitle),1)]),_:1})])):k("",!0),this.subSubTitle?(d(),m("li",ys,[t("a",null,c(this.subSubTitle),1)])):k("",!0),this.pageTitle?(d(),m("li",$s,c(this.pageTitle),1)):k("",!0)])])])])])}const we=b(ps,[["render",Ss]]),Ls={name:"Navbar",emits:["click"],props:{parentPage:{type:String,required:!0}},computed:{...S({activeworkspace:"activeworkspace"})},created(){},methods:{...y({getActiveWorkspace:"getActiveWorkspace"}),addNewWorkspace(e){e.preventDefault(),this.emitter.emit("open-new-workspace-popup",{type:"create",spaceData:null})},addNewList(e){e.preventDefault(),this.emitter.emit("open-new-list-popup",{type:"create",listData:null})},addNewNewTask(e){e.preventDefault(),this.emitter.emit("open-new-task-popup",{type:"create",taskData:null})},addNewNewLink(e){e.preventDefault(),this.emitter.emit("open-new-link-popup",{type:"create",linkData:null})}}},Es={class:"row mb-2"},Is={class:"col-12"},Cs={class:"row mb-2"},Ps={key:0,class:"d-none d-md-block text-center col-md-2"},Fs=t("i",{class:"mdi mdi-plus"},null,-1),As={key:1,class:"d-none d-md-block text-center col-md-2"},Us=t("i",{class:"mdi mdi-plus"},null,-1),xs={key:2,class:"d-none d-md-block text-center col-md-2"},Ns=t("i",{class:"mdi mdi-plus"},null,-1),Rs={key:3,class:"d-none d-md-block text-center col-md-2"},Ws=t("i",{class:"mdi mdi-plus"},null,-1),Os={key:4,class:"col-6 col-md-6 d-block d-md-none mt-1 text-center"},Vs=t("i",{class:"mdi mdi-plus"},null,-1),js={key:5,class:"col-4 col-md-4 d-block d-md-none mt-1 text-center"},Ms=t("i",{class:"mdi mdi-plus"},null,-1),Ks={key:6,class:"col-4 col-md-4 d-block d-md-none mt-1 text-center"},Ds=t("i",{class:"mdi mdi-plus"},null,-1),qs={key:7,class:"col-4 col-md-4 d-block d-md-none mt-1 text-center"},Hs=t("i",{class:"mdi mdi-plus"},null,-1),Bs=t("div",{class:"col-6"},[t("div",{class:"text-sm-end"})],-1);function Gs(e,s,i,r,o,a){return d(),m("div",Es,[t("div",Is,[t("div",Cs,[this.parentPage=="workspaces"?(d(),m("div",Ps,[t("a",{onClick:s[0]||(s[0]=(...n)=>a.addNewWorkspace&&a.addNewWorkspace(...n)),class:"btn btn-primary rounded-pill w-100 shadow-none"},[Fs,g(" "+c(e.$t("modules.workspace")),1)])])):k("",!0),this.parentPage=="workspace"?(d(),m("div",As,[t("a",{onClick:s[1]||(s[1]=(...n)=>a.addNewList&&a.addNewList(...n)),class:"btn btn-primary rounded-pill w-100 shadow-none"},[Us,g(" "+c(e.$t("modules.list")),1)])])):k("",!0),this.parentPage=="workspace"?(d(),m("div",xs,[t("a",{onClick:s[2]||(s[2]=(...n)=>a.addNewNewLink&&a.addNewNewLink(...n)),class:"btn btn-outline-primary m-0 rounded-pill shadow-none w-100"},[Ns,g(" "+c(e.$t("modules.link")),1)])])):k("",!0),this.parentPage=="workspace"?(d(),m("div",Rs,[t("a",{onClick:s[3]||(s[3]=(...n)=>a.addNewNewTask&&a.addNewNewTask(...n)),class:"btn btn-outline-primary m-0 rounded-pill shadow-none w-100"},[Ws,g(" "+c(e.$t("modules.task")),1)])])):k("",!0),this.parentPage=="workspaces"?(d(),m("div",Os,[t("a",{onClick:s[4]||(s[4]=(...n)=>a.addNewWorkspace&&a.addNewWorkspace(...n)),class:"btn btn-primary rounded-pill w-100 shadow-none"},[Vs,g(" "+c(e.$t("modules.workspace")),1)])])):k("",!0),this.parentPage=="workspace"?(d(),m("div",js,[t("a",{onClick:s[5]||(s[5]=(...n)=>a.addNewList&&a.addNewList(...n)),class:"btn btn-primary rounded-pill w-100 shadow-none"},[Ms,g(" "+c(e.$t("modules.list")),1)])])):k("",!0),this.parentPage=="workspace"?(d(),m("div",Ks,[t("a",{onClick:s[6]||(s[6]=(...n)=>a.addNewNewLink&&a.addNewNewLink(...n)),class:"btn btn-outline-primary m-0 rounded-pill shadow-none w-100"},[Ds,g(" "+c(e.$t("modules.link")),1)])])):k("",!0),this.parentPage=="workspace"?(d(),m("div",qs,[t("a",{onClick:s[7]||(s[7]=(...n)=>a.addNewNewTask&&a.addNewNewTask(...n)),class:"btn btn-outline-primary m-0 rounded-pill shadow-none w-100"},[Hs,g(" "+c(e.$t("modules.task")),1)])])):k("",!0),Bs])])])}const be=b(Ls,[["render",Gs]]);const Ys={name:"NewWorkSpacePopup",props:[],components:{"v-select":te},data(){return{companyUserslist:[],selectedUsers:[],newWorkspace:{id:"",name:"",description:"",users:[],assign_all:!1},formType:""}},mounted(){},created(){this.getCompanyUsers(),this.emitter.on("open-new-workspace-popup",e=>{this.showCreateNewWorkSpacePopup(e.type,e.spaceData)}),this.emitter.on("close-workspace-popup",this.closePopup)},computed:{...S({companyUsers:"companyUsers",createSpaceFormErrors:"createSpaceFormErrors"}),usersList:function(){return this.companyUserslist.map(function(e){return{value:e.id,name:e.name+" "+e.father_name+" "+e.family_name}})}},methods:{...y({saveWorkspace:"saveWorkspace",UpdateWorkspace:"UpdateWorkspace",getCompanyUsers:"getCompanyUsers"}),showCreateNewWorkSpacePopup(e=null,s=null){this.$store.state.createSpaceFormErrors={},this.formType=e,e=="create"?this.resetFormInputs():(this.newWorkspace.id=s?s.id:null,this.newWorkspace.name=s?s.name:null,this.newWorkspace.description=s?s.description:null),this.companyUserslist=this.companyUsers,this.selectedUsers=s?this.getSelectedUsers(s.users):[],$("#newSpacePopup").modal("show")},createOrUpdateWorkspace(){let e=this.selectedUsers!=null||this.selectedUsers!=null?this.setSelectedUsers(this.selectedUsers):[];this.formType=="create"?this.saveWorkspace({name:this.newWorkspace.name,description:this.newWorkspace.description,users:e,assign_all:this.newWorkspace.assign_all}):this.UpdateWorkspace({id:this.newWorkspace.id,name:this.newWorkspace.name,description:this.newWorkspace.description,users:e,assign_all:this.newWorkspace.assign_all})},resetFormInputs(){this.newWorkspace.name="",this.newWorkspace.description="",this.newWorkspace.users=[]},setSelectedUsers(e=null){let s=[];return typeof e!=null&&typeof e=="object"&&e.forEach(i=>{Number.isInteger(i.value)&&s.push(i.value)}),s},getSelectedUsers(e=null){let s=[];return typeof e!=null&&typeof e=="object"&&e.forEach(i=>{s.push({value:i.id,name:i.name+" "+i.father_name+" "+i.family_name})}),s},getStringVal(e=null){if(e!==null)return e.toString()},closePopup(){$("#newSpacePopup").modal("hide")}},watch:{"newWorkspace.users"(e){}}},zs={class:"modal fade task-modal-content",id:"newSpacePopup",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Js={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Xs={class:"modal-content"},Qs={class:"modal-header"},Zs={class:"modal-title",id:"exampleModalLabel"},et=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")],-1),st={class:"modal-body"},tt={class:"row"},ot={class:"col-12 position-relative mb-3"},it={for:"w-name",class:"form-label"},at={class:"form-group"},nt={class:"col-12 position-relative mb-3"},rt={for:"w-description",class:"form-label"},ct={class:"form-group"},lt={class:"col-12 position-relative mb-3"},dt={for:"w-users",class:"form-label"},mt={class:"modal-footer"},pt={type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},ut={type:"submit",class:"btn btn-primary"};function _t(e,s,i,r,o,a){const n=h("v-select");return d(),m("div",null,[t("div",zs,[t("div",Js,[t("div",Xs,[t("form",{onSubmit:s[3]||(s[3]=j(l=>a.createOrUpdateWorkspace(),["prevent"]))},[t("div",Qs,[t("h5",Zs,c(e.$t("forms.labels.create_new_workspace")),1),et]),t("div",st,[t("div",tt,[t("div",ot,[t("label",it,c(e.$t("forms.labels.Workspace_name")),1),t("div",at,[_(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=l=>o.newWorkspace.name=l),class:v(["form-control",[e.createSpaceFormErrors.name?"is-invalid":""]]),id:"w-name",placeholder:"Workspace Name"},null,2),[[I,o.newWorkspace.name]]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.createSpaceFormErrors.name)),513),[[T,e.createSpaceFormErrors.name]])])]),t("div",nt,[t("label",rt,c(e.$t("forms.labels.Workspace_description")),1),t("div",ct,[_(t("textarea",{"onUpdate:modelValue":s[1]||(s[1]=l=>o.newWorkspace.description=l),type:"text",rows:"3",class:v(["form-control",[e.createSpaceFormErrors.description?"is-invalid":""]]),id:"w-description",placeholder:"Workspace Description"},null,2),[[I,o.newWorkspace.description]]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.createSpaceFormErrors.description)),513),[[T,e.createSpaceFormErrors.description]])])]),t("div",lt,[t("label",dt,c(e.$t("forms.labels.users")),1),f(n,{multiple:"",modelValue:o.selectedUsers,"onUpdate:modelValue":s[2]||(s[2]=l=>o.selectedUsers=l),ref:"vueDropdown",options:a.usersList,label:"name",clearable:!0,closeOnSelect:!1,id:"w-users",class:v(["custom-v-select",[e.createSpaceFormErrors.users?"is-invalid":""]])},null,8,["modelValue","options","class"]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.createSpaceFormErrors.users)),513),[[T,e.createSpaceFormErrors.users]])])])]),t("div",mt,[t("button",pt,c(e.$t("forms.btns.cancel")),1),t("button",ut,c(e.$t("forms.btns.save")),1)])],32)])])])])}const ht=b(Ys,[["render",_t]]);const kt={name:"CommentForm",emits:["click"],props:{commentType:{type:String,required:!0,default:"comment"},formType:{type:String,required:!0,default:"create"},oldComment:{type:Object,required:!1},currentComment:{type:Object,required:!1}},data(){return{id:"",content:"",task_id:"",parent_id:""}},created(){this.setCommentData(),this.emitter.on("reset-comment-form-content",e=>{this.resetCommentForm(e)})},computed:{...S({activeTask:"activeTask",createCommentFormErrors:"createCommentFormErrors"})},methods:{...y({createTaskComment:"createTaskComment",updateTaskComment:"updateTaskComment"}),createOrUpdateComment(){this.formType=="create"?(this.commentType=="reply"&&(this.parent_id=this.currentComment.id),this.createTaskComment({content:this.content,task_id:this.activeTask.id,parent:this.currentComment})):this.updateTaskComment({id:this.oldComment.id,content:this.content,task_id:this.activeTask.id})},resetCommentForm(){this.id="",this.task_id=this.activeTask.id,this.content=""},setCommentData(){this.commentType=="reply"&&(this.parentId=this.parentId),this.formType=="create"?(this.id=this.oldComment?this.oldComment.id:"",this.task_id=this.oldComment?this.oldComment.task_id:"",this.content=this.oldComment?this.oldComment.content:""):(this.id="",this.task_id=this.activeTask.id,this.content="")},getStringVal(e=null){if(e!==null)return e.toString()},cancelReply(){this.emitter.emit("change-comment-type",{type:"comment"})}}},gt={class:"border rounded"},ft={class:"p-2 bg-light d-flex justify-content-between align-items-center"},wt=t("div",null,null,-1),bt={class:"text-center"},vt=t("i",{class:"uil uil-message me-1"},null,-1),Tt=t("i",{class:"uil uil-cancel me-1"},null,-1),yt=t("button",{type:"submit",class:"btn btn-sm btn-success"},[t("i",{class:"uil uil-message me-1"}),g("Submit")],-1);function $t(e,s,i,r,o,a){return d(),m("div",gt,[t("form",{onSubmit:s[3]||(s[3]=j(n=>a.createOrUpdateComment(),["prevent"])),class:"comment-area-box"},[_(t("textarea",{"onUpdate:modelValue":s[0]||(s[0]=n=>o.content=n),rows:"3",class:v(["form-control border-0 resize-none",[e.createCommentFormErrors.content?"is-invalid":""]]),placeholder:"Your comment .."},`
      `,2),[[I,o.content]]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.createCommentFormErrors.content)),513),[[T,e.createCommentFormErrors.content]]),t("div",ft,[wt,t("div",bt,[i.commentType=="reply"?(d(),m("a",{key:0,class:"btn btn-sm btn-danger mx-2",onClick:s[1]||(s[1]=n=>a.cancelReply())},[vt,g("cancel")])):k("",!0),i.commentType=="comment"?(d(),m("a",{key:1,class:"btn btn-sm btn-danger mx-2",onClick:s[2]||(s[2]=n=>e.clearComment())},[Tt,g("clear")])):k("",!0),yt])])],32)])}const ae=b(kt,[["render",$t]]),St={name:"ChildComment",emits:["click"],components:{CommentForm:ae},props:{comment:{type:Object,required:!0}},data(){return{commentType:"comment",formType:"create"}},created(){this.emitter.on("change-comment-form-type",e=>{this.changeFormType(e.type)}),this.emitter.on("change-comment-type",e=>{this.commentTypeChanged(e.type)})},computed:{...S({activeTask:"activeTask"}),getCurrentComment(){return this.comment},getCommentType(){return this.commentType},getFormType(){return this.formType}},methods:{...y({}),reply(){this.commentType="reply"},editComment(){this.formType="update"},changeFormType(e){this.formType=e},commentTypeChanged(e){this.commentType=e},showCommentReplies(e){if(e.replies)return(typeof e.replies=="object"&&this.calculateCommentReplies(e.replies))>1},calculateCommentReplies(e){return Object.keys(e).length},replaceLinksInPlainTexts(e){return new oe().replaceLinks(e)}}},Lt={class:"row"},Et={class:"col-12 m-2"},It=["src","alt"],Ct={class:"w-100"},Pt={class:"mt-0"},Ft={class:"text-muted float-end"},At=["innerHTML"],Ut=t("br",null,null,-1),xt={key:1,class:"col-12 mt-2"},Nt={class:"container"};function Rt(e,s,i,r,o,a){const n=h("comment-form");return d(),m("div",Lt,[t("div",Et,[i.comment.user?(d(),m("img",{key:0,class:"me-2 rounded-circle",src:i.comment.user.image_path,alt:i.comment.user.name+"  "+i.comment.user.family_name,height:"32"},null,8,It)):k("",!0),t("div",Ct,[t("h5",Pt,[g(c(i.comment.user.name+"  "+i.comment.user.family_name)+" ",1),t("small",Ft,c(e.moment(i.comment.created_at).format("D-M-Y h:mm A")),1)]),t("p",{innerHTML:a.replaceLinksInPlainTexts(i.comment.content)},null,8,At),Ut]),a.getCommentType=="reply"?(d(),m("div",xt,[f(n,{"form-type":o.formType,"comment-type":o.commentType,"current-comment":a.getCurrentComment},null,8,["form-type","comment-type","current-comment"])])):k("",!0),t("div",Nt,[a.showCommentReplies(i.comment)?(d(),m(A,{key:0},[],64)):k("",!0)])])])}const Wt=b(St,[["render",Rt]]),Ot={name:"Comment",emits:["click"],components:{ChildComment:Wt,CommentForm:ae},props:{comment:{type:Object,required:!0}},data(){return{commentType:"comment",formType:"create"}},mounted(){},created(){this.emitter.on("change-comment-form-type",e=>{this.changeFormType(e.type)}),this.emitter.on("change-comment-type",e=>{this.commentTypeChanged(e.type)})},computed:{...S({activeTask:"activeTask"}),getCurrentComment(){return this.comment},getCommentType(){return this.commentType},getFormType(){return this.formType}},methods:{...y({}),reply(){this.commentType="reply"},editComment(){this.formType="update"},changeFormType(e){this.formType=e},commentTypeChanged(e){this.commentType=e},showCommentReplies(e){return this.calculateCommentReplies(e)>1},calculateCommentReplies(e){return Object.keys(e.replies).length},replaceLinksInPlainTexts(e){return new oe().replaceLinks(e)}}},Vt=["id"],jt={class:"row"},Mt={class:"col-12 mt-3"},Kt=["src","alt"],Dt={class:"w-100 contain-links"},qt={class:"mt-0"},Ht={class:"text-muted float-end"},Bt=["innerHTML"],Gt=t("br",null,null,-1),Yt=t("i",{class:"mdi mdi-reply"},null,-1),zt={key:1,href:"javascript: void(0);",class:"text-muted font-13 d-inline-block m-2"},Jt=t("i",{class:"mdi mdi-chat"},null,-1),Xt={key:1,class:"col-12 mt-2"},Qt={class:"container"};function Zt(e,s,i,r,o,a){const n=h("comment-form"),l=h("child-comment");return d(),m("div",{class:"container",id:i.comment.id},[t("div",jt,[t("div",Mt,[i.comment.user?(d(),m("img",{key:0,class:"me-2 rounded-circle",src:i.comment.user.image_path,alt:i.comment.user.name+"  "+i.comment.user.family_name,height:"32"},null,8,Kt)):k("",!0),t("div",Dt,[t("h5",qt,[g(c(i.comment.user.name+"  "+i.comment.user.family_name)+" ",1),t("small",Ht,c(e.moment(i.comment.created_at).format("D-M-Y h:mm A")),1)]),t("p",{innerHTML:a.replaceLinksInPlainTexts(i.comment.content)},null,8,Bt),Gt,a.getCommentType=="comment"?(d(),m("a",{key:0,href:"javascript: void(0);",onClick:s[0]||(s[0]=p=>a.reply(i.comment.id)),class:"text-muted font-13 d-inline-block m-2"},[Yt,g(" "+c(e.$t("forms.labels.reply")),1)])):k("",!0),a.showCommentReplies(i.comment)?(d(),m("a",zt,[Jt,g(" ("+c(a.calculateCommentReplies(i.comment))+") "+c(e.$t("forms.labels.replies")),1)])):k("",!0)]),a.getCommentType=="reply"?(d(),m("div",Xt,[f(n,{"form-type":o.formType,"comment-type":o.commentType,"current-comment":a.getCurrentComment},null,8,["form-type","comment-type","current-comment"])])):k("",!0)])]),t("div",Qt,[a.showCommentReplies(i.comment)?(d(!0),m(A,{key:0},U(i.comment.replies,(p,u)=>(d(),M(l,{key:u,comment:p},null,8,["comment"]))),128)):k("",!0)])],8,Vt)}const eo=b(Ot,[["render",Zt]]),so={name:"Comments",components:{Comment:eo,CommentForm:ae},props:{},data(){return{commentType:"comment",formType:"create"}},computed:{...S({activeTask:"activeTask"}),comments(){return this.activeTask?this.activeTask.comments:{}}},methods:{...y({})}},to={class:"card tab-pane fade show active",id:"comments",role:"tabpanel","aria-labelledby":"comments-tab"},oo=t("div",{class:"card-header p-2"},null,-1),io={class:"card-body p-2"};function ao(e,s,i,r,o,a){const n=h("comment"),l=h("comment-form");return d(),m("div",to,[oo,t("div",io,[(d(!0),m(A,null,U(a.comments,(p,u)=>(d(),M(n,{key:u,comment:p},null,8,["comment"]))),128)),f(l,{"comment-type":o.commentType,"form-type":o.formType},null,8,["comment-type","form-type"])])])}const no=b(so,[["render",ao]]),ro={name:"FileItem",props:{file:{type:Object,required:!0}},data(){return{}},methods:{...y({})}},co={class:"card mb-1 shadow-none border"},lo={class:"p-2"},mo={class:"align-items-center justify-content-center row"},po={class:"col-auto"},uo={class:"avatar-sm"},_o={class:"avatar-title rounded"},ho={class:"col ps-0"},ko={href:"javascript:void(0);",class:"font-12 mb-1 mt-2 text-muted"},go={class:"font-12 mb-1 mt-2 text-muted"},fo={class:"col col-3 text-center"},wo=["href"],bo={class:""},vo=t("i",{class:"pl-2 ri-download-2-line"},null,-1);function To(e,s,i,r,o,a){return d(),m("div",co,[t("div",lo,[t("div",mo,[t("div",po,[t("div",uo,[t("span",_o," ."+c(i.file.mime_type),1)])]),t("div",ho,[t("a",ko,c(i.file.file_name),1),t("p",go,c(e.moment(i.file.created_at).format("D-M-Y h:mm A")),1)]),t("div",fo,[t("a",{href:i.file.custom_properties.full_url,target:"_blank",class:"btn btn-link btn-lg text-muted p-0"},[t("span",bo,c(i.file.custom_properties.human_readable_size),1),g(" \xA0 "),vo],8,wo)])])])])}const yo=b(ro,[["render",To]]),$o={name:"Files",props:{media:{type:Object,required:!1}},components:{FileItem:yo},data(){return{}},created(){},computed:{...S({activeTask:"activeTask"}),allFiles(){return this.activeTask?this.activeTask.media:{}}},methods:{...y({})}},So={class:"tab-pane",id:"profile-b1"};function Lo(e,s,i,r,o,a){const n=h("file-item");return d(),m("div",So,[(d(!0),m(A,null,U(a.allFiles,(l,p)=>(d(),M(n,{key:p,file:l},null,8,["file"]))),128))])}const Eo=b($o,[["render",Lo]]),Io={name:"HistoryItem",props:{historyItem:{type:Object,required:!0}},data(){return{}}},Co={class:"d-flex"},Po=["src","alt"],Fo={class:"w-100"},Ao={class:"m-0"},Uo={class:"text-muted"},xo=t("span",{class:""},"\u26AC",-1);function No(e,s,i,r,o,a){return d(),m("div",Co,[t("img",{class:"me-2 rounded",src:i.historyItem.user.image_path,alt:i.historyItem.user.name+" "+i.historyItem.user.father_name+" "+i.historyItem.user.family_name,height:"16"},null,8,Po),t("div",Fo,[t("h6",Ao,c(i.historyItem.message),1),t("p",Uo,[t("small",null,[g(" By : "+c(i.historyItem.user.name+" "+i.historyItem.user.father_name+" "+i.historyItem.user.family_name)+" ",1),xo,t("span",null,c(i.historyItem.performed_at),1)])])])])}const Ro=b(Io,[["render",No]]),Wo={name:"TaskHistories",components:{HistoryItem:Ro},props:{},data(){return{}},computed:{...S({activeTask:"activeTask"}),formattedHistories(){return this.activeTask?this.activeTask.formattedHistories:{}}},methods:{...y({})}},Oo={class:"tab-pane fade",id:"changlogs",role:"tabpanel","aria-labelledby":"changlogs-tab"},Vo={class:"card"},jo={class:"card-body pb-1"};function Mo(e,s,i,r,o,a){const n=h("history-item");return d(),m("div",Oo,[t("div",Vo,[t("div",jo,[(d(!0),m(A,null,U(a.formattedHistories,(l,p)=>(d(),M(n,{key:p,historyItem:l},null,8,["historyItem"]))),128))])])])}const Ko=b(Wo,[["render",Mo]]);const Do={name:"TaskDetailPopup",components:{Comments:no,Files:Eo,TaskHistories:Ko},data(){return{isLoading:!1}},created(){this.emitter.on("open-task-detail-popup",e=>{this.showTaskDetailPopupPopup(e.taskSlug)}),this.emitter.on("close-task-details-popup",this.closePopup)},mounted(){this.showTaskDetailPopupPopup(this.$route.params.taskSlug)},computed:{...S({activeTask:"activeTask",activeworkspace:"activeworkspace"}),activeTaskDetails(){return this.activeTask?this.activeTask:""},comments(){return this.activeTask?this.activeTask.comments:{}},changlogs(){return this.activeTask?this.activeTask.formattedHistories:{}}},methods:{...y({fetchActiveTask:"fetchActiveTask",resetActiveTask:"resetActiveTask"}),showTaskDetailPopupPopup(e){typeof e!=null&&typeof e=="string"&&(this.fetchActiveTask({slug:e}),ee.push({name:"task",params:{taskSlug:e}}),$("#taskDetailPopup").modal("show"))},closePopup(){this.$route.name;let e=this.$route.params.id;ee.push({name:"workspace",params:{id:e}}),this.resetActiveTask(),$("#taskDetailPopup").modal("hide")},replaceLinksInPlainTexts(e){return new oe().replaceLinks(e)}},watch:{}},D=e=>(B("data-v-bd07a655"),e=e(),G(),e),qo={class:"modal fade",id:"taskDetailPopup",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ho={class:"modal-dialog modal-fullscreen modal-dialog-centered modal-dialog-zoom task-detail-modal",role:"document"},Bo={key:0,class:"modal-content"},Go={key:1,class:"modal-content"},Yo={class:"modal-header bg-primary"},zo={class:"modal-title text-light",id:"exampleModalLabel"},Jo={class:"modal-body"},Xo={class:"row"},Qo={class:"col-12 col-md-7 col-xxl-7"},Zo={class:"card d-block"},ei={class:"card-body p-2"},si=D(()=>t("div",{class:"clearfix"},null,-1)),ti={class:"m-0"},oi={class:"row"},ii={class:"col-md-9 col-12"},ai={key:0,class:"mt-2 mb-1 text-muted fw-bold font-12 text-uppercase"},ni={class:"d-flex py-2"},ri=["src","alt"],ci=D(()=>t("div",null,null,-1)),li={class:"col-md-3 col-12"},di={class:"mt-2 mb-1 text-muted font-10"},mi={class:"d-flex"},pi=D(()=>t("i",{class:"uil uil-schedule font-14 text-success me-1"},null,-1)),ui={class:"mt-1 font-12"},_i={key:0,class:"mt-2 mb-1 text-muted font-10"},hi={class:"d-flex"},ki=D(()=>t("i",{class:"uil uil-schedule font-14 text-danger me-1"},null,-1)),gi={class:"mt-1 font-12"},fi=D(()=>t("hr",null,null,-1)),wi=["innerHTML"],bi={class:"col-12 col-md-5"},vi={class:"nav nav-tabs",id:"myTab",role:"tablist"},Ti={class:"nav-item",role:"presentation"},yi={class:"nav-link active",id:"comments-tab","data-bs-toggle":"tab","data-bs-target":"#comments",type:"button",role:"tab","aria-controls":"comments","aria-selected":"true"},$i={class:"nav-item",role:"presentation"},Si={class:"nav-link",id:"changlogs-tab","data-bs-toggle":"tab","data-bs-target":"#changlogs",type:"button",role:"tab","aria-controls":"changlogs","aria-selected":"false"},Li={class:"tab-content",id:"myTabContent"},Ei={class:"modal-footer"};function Ii(e,s,i,r,o,a){const n=h("files"),l=h("task-histories"),p=h("comments");return d(),m("div",null,[t("div",qo,[t("div",Ho,[o.isLoading?(d(),m("div",Bo,"...")):(d(),m("div",Go,[t("div",Yo,[t("h4",zo,c(e.$t("forms.labels.task_details")),1),t("button",{type:"button",class:"btn-close text-light","data-bs-dismiss":"modal","aria-label":"Close",onClick:s[0]||(s[0]=(...u)=>a.closePopup&&a.closePopup(...u))})]),t("div",Jo,[t("div",Xo,[t("div",Qo,[t("div",Zo,[t("div",ei,[si,t("h4",ti,c(a.activeTaskDetails.name),1),t("div",oi,[t("div",ii,[a.activeTaskDetails.assigned_users?(d(),m("p",ai,c(e.$t("forms.labels.assigned_to")),1)):k("",!0),t("div",ni,[(d(!0),m(A,null,U(a.activeTaskDetails.assigned_users,(u,L)=>(d(),m("div",{key:L},[t("img",{src:u.image_path,alt:u.name,class:"rounded-circle me-2",height:"24"},null,8,ri),ci]))),128))])]),t("div",li,[t("p",di,c(e.$t("forms.labels.created_at")),1),t("div",mi,[pi,t("div",null,[t("h5",ui,c(e.moment(a.activeTaskDetails.created_at).format("D-M-Y h:m a")),1)])]),a.activeTaskDetails.expiry_time!=null?(d(),m("p",_i,c(e.$t("forms.labels.expiry_at")),1)):k("",!0),t("div",hi,[ki,t("div",null,[t("h5",gi,c(e.moment(a.activeTaskDetails.expiry_time).format("D-M-Y h:m a")),1)])])])]),fi,a.activeTaskDetails.description?(d(),m("p",{key:0,class:"text-muted mb-1 mt-1 mx-2",innerHTML:a.replaceLinksInPlainTexts(a.activeTaskDetails.description)},null,8,wi)):k("",!0),f(n)])])]),t("div",bi,[t("ul",vi,[t("li",Ti,[t("button",yi," Comments ("+c(a.comments?a.comments.length:"")+") ",1)]),t("li",$i,[t("button",Si," Changlogs ("+c(a.changlogs?a.changlogs.length:"")+") ",1)])]),t("div",Li,[f(l),f(p)])])])]),t("div",Ei,[t("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:s[1]||(s[1]=(...u)=>a.closePopup&&a.closePopup(...u))},c(e.$t("forms.btns.close")),1)])]))])])])}const H=b(Do,[["render",Ii],["__scopeId","data-v-bd07a655"]]);const Ci={name:"Taskitem",emits:["click"],props:["item","list","workspace","parentId"],components:{"v-select":te,TaskDetailPopup:H,Tooltip:Ne,Toast:Re,Popover:We},data(){return{showTaskPriorityDropdown:!1,showTaskPriority:!0}},computed:{...S({activeworkspaceUsers:"activeworkspaceUsers"}),comments(){return this.item.comments?this.item.comments.length:0},progressClass(){return this.getProgressBarClass(this.item.progress)}},created(){},methods:{...y({deleteTask:"deleteTask"}),assignUser(e){this.item.assignedUsers.push(e)},changePriority(){this.showTaskPriorityDropdown=!this.showTaskPriorityDropdown,this.showTaskPriority=!this.showTaskPriority,Oe(()=>{this.$refs.vueDropdown.$el.querySelector("input").focus()})},setNewPriority(e){this.showTaskPriorityDropdown=!this.showTaskPriorityDropdown,this.showTaskPriority=!this.showTaskPriority},editTaskItem(e){this.emitter.emit("open-new-task-popup",{type:" edit",taskData:e})},deleteTaskItem(e){this.deleteTask({id:e.id,status_id:e.status_id,space_id:e.space_id})},openTaskDetailPopoup(e){this.emitter.emit("open-task-detail-popup",{taskSlug:e})},getProgressBarClass(e){switch(!0){case(e>0&&e<=25):return"bg-secondary";case e<=50:return"bg-warning";case e<=75:return"bg-info";case e<=99:return"bg-success";case e==100:return"bg-primary";default:return"bg-white"}}}},q=e=>(B("data-v-2d37b43e"),e=e(),G(),e),Pi={class:"card mb-0"},Fi={class:"card-body p-1"},Ai={class:"align-items-center d-flex date-task justify-content-between"},Ui={class:"float-end text-muted"},xi={key:0,class:"float-end text-muted"},Ni={class:"dropdown float-end"},Ri=q(()=>t("a",{href:"#",class:"dropdown-toggle text-muted arrow-none","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"mdi mdi-dots-vertical font-18"})],-1)),Wi={class:"dropdown-menu dropdown-menu-end"},Oi=q(()=>t("i",{class:"mdi mdi-pencil me-1"},null,-1)),Vi=q(()=>t("i",{class:"mdi mdi-delete me-1"},null,-1)),ji={class:"font-20 text-capitalize"},Mi={key:0,class:"pe-1 text-nowrap d-inline-block"},Ki={class:"float-end text-muted"},Di={class:"pe-1 text-nowrap d-inline-block"},qi=q(()=>t("i",{class:"mdi mdi-progress-clock text-primary"},null,-1)),Hi={class:"pe-1 text-nowrap d-inline-block"},Bi=q(()=>t("i",{class:"mdi mdi-comment-multiple-outline text-primary"},null,-1)),Gi={class:""},Yi=["src","alt"],zi={class:"list-group list-group-flush"},Ji={class:"list-group-item p-2"},Xi={class:"progress progress-xl"},Qi=["aria-valuenow"];function Zi(e,s,i,r,o,a){return d(),m("div",Pi,[t("div",Fi,[t("div",Ai,[t("small",Ui,c(e.$t("forms.labels.since"))+" "+c(e.moment(i.item.created_at).format("D-M-Y h:m a")),1),i.item.creator?(d(),m("small",xi,c(e.$t("forms.labels.auther"))+" "+c(i.item.creator.name),1)):k("",!0),t("div",Ni,[Ri,t("div",Wi,[t("a",{class:"dropdown-item",onClick:s[0]||(s[0]=n=>a.editTaskItem(i.item))},[Oi,g(" "+c(e.$t("forms.btns.edit")),1)]),t("a",{class:"dropdown-item",onClick:s[1]||(s[1]=n=>a.deleteTaskItem(i.item))},[Vi,g(c(e.$t("forms.btns.delete")),1)])])])]),t("h5",{class:"task-title",onClick:s[2]||(s[2]=n=>a.openTaskDetailPopoup(i.item.slug))},[t("a",ji,c(i.item.name),1)]),t("p",null,[i.item.expiry_time?(d(),m("span",Mi,[t("small",Ki,c(e.moment(i.item.expiry_time).format("D-M-Y h:m a")),1)])):k("",!0),t("span",Di,[qi,t("b",null,c(i.item.progress),1)]),t("span",Hi,[Bi,t("b",null,c(a.comments),1)]),t("span",{class:v(["badge float-end m-0 task-priority",i.item.priority])},c(i.item.priority),3)]),t("p",Gi,[(d(!0),m(A,null,U(i.item.assigned_users,(n,l)=>(d(),m("img",{key:l,src:n.image_path,alt:n.name,class:"avatar-xs rounded-circle me-1"},null,8,Yi))),128))])]),t("ul",zi,[t("li",Ji,[t("div",Xi,[t("div",{class:v(["progress-bar text-xl-center",a.progressClass]),role:"progressbar",style:ie({width:i.item.progress+"%"}),"aria-valuenow":i.item.progress,"aria-valuemin":"0","aria-valuemax":"100"},c(i.item.progress+" % "),15,Qi)])])])])}const ve=b(Ci,[["render",Zi],["__scopeId","data-v-2d37b43e"]]);const ea={name:"Tasklist",emits:["click"],components:{Taskitem:ve,draggable:pe},props:{workspace:{type:Object,required:!1},list:{type:Object,required:!1},listId:{type:Object,required:!1},ind:{type:Number,required:!1}},setup(e,s){const i=ue(),r=_e("emitter"),o=V(""),a=V(""),n=Ve(e,"list"),l=V([]),p=O(()=>e.list.tasks),u=O(()=>e.list.tasks.length);return he(()=>console.log("mounted")),{currentList:o,newOrderedTasks:a,tasks:p,draft:l,list:n,listCount:u,editListItem:P=>r.emit("open-new-list-popup",{type:"edit",listData:P}),onAdd:P=>{console.log("this is list on add",p),i.dispatch("reorderListTasks",{tasks:p.value,new_status_id:e.listId,space_id:e.workspace.id})},onRemove:P=>{i.dispatch("reorderListTasks",{tasks:p.value,new_status_id:e.listId,space_id:e.workspace.id})},onUpdate:P=>{i.dispatch("reorderListTasks",{tasks:p.value,new_status_id:e.listId,space_id:e.workspace.id})},activeworkspace:O(()=>i.getters.activeworkspace),isLoading:O(()=>i.state.isLoading),reorderListTasks:()=>i.dispatch("reorderListTasks"),deleteList:P=>i.dispatch("deleteList",{id:P.id,space_id:P.space_id})}}},sa={class:"tasks bg-light"},ta={class:"dropdown card-widgets"},oa=t("a",{href:"#",class:"text-muted dropdown-toggle arrow-none","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"font-18 mdi mdi-dots-vertical"})],-1),ia={class:"dropdown-menu dropdown-menu-end"},aa=t("i",{class:"mdi mdi-pencil me-1"},null,-1),na=t("i",{class:"mdi mdi-delete me-1"},null,-1),ra={class:"task-list-items"};function ca(e,s,i,r,o,a){const n=h("Taskitem"),l=h("draggable");return d(),m("div",sa,[t("div",{style:ie({"border-color":r.list.color+"!important"}),class:"align-items-center bg-white border-4 border-top d-flex justify-content-between p-2 rounded-2 task-header text-capitalize text-center"},[t("h5",{class:v(["m-0 font-14 text-dark",r.list.color])},c(r.list.name)+" ( "+c(r.listCount)+" ) ",3),t("div",ta,[oa,t("div",ia,[t("a",{href:"javascript:void(0);",onClick:s[0]||(s[0]=p=>r.editListItem(r.list)),class:"dropdown-item"},[aa,g(" "+c(e.$t("forms.btns.edit")),1)]),t("a",{href:"javascript:void(0);",onClick:s[1]||(s[1]=p=>r.deleteList(r.list)),class:"dropdown-item"},[na,g(c(e.$t("forms.btns.delete")),1)])])])],4),t("div",ra,[f(l,{modelValue:r.tasks,"onUpdate:modelValue":s[2]||(s[2]=p=>r.tasks=p),list:r.tasks,group:"taskList",animation:300,id:"list-"+i.listId,onAdd:r.onAdd,onChange:r.onUpdate,onRemove:r.onRemove},{item:me(({element:p})=>[f(n,{item:p,"parent-id":i.listId,list:r.list,workspace:i.workspace},null,8,["item","parent-id","list","workspace"])]),_:1},8,["modelValue","list","id","onAdd","onChange","onRemove"])])])}const la=b(ea,[["render",ca]]);const da={name:"NewTaskListPopup",data(){return{newTaskList:{id:"",name:"",color:"#1f2e6a",position:""},formType:""}},created(){this.emitter.on("open-new-list-popup",e=>{this.showCreateNewListPopup(e.type,e.listData)}),this.emitter.on("close-list-popup",this.closePopup)},computed:{...S({createListFormErrors:"createListFormErrors",isLoading:"isLoading"})},methods:{...y({createNewTaskList:"createNewList",updateList:"updateList"}),showCreateNewListPopup(e,s=null){this.$store.state.createListFormErrors={},this.formType=e,e=="create"?this.resetFormInputs():(this.newTaskList.id=s?s.id:"",this.newTaskList.name=s?s.name:"",this.newTaskList.color=s?s.color:"#1f2e6a",this.newTaskList.position=s?s.position:""),$("#newListPopup").modal("show")},createOrUpdateList(){this.formType=="create"?this.createNewTaskList({space_id:this.$route.params.id,name:this.newTaskList.name,color:this.newTaskList.color,position:this.newTaskList.position}):this.updateList({id:this.newTaskList.id,space_id:this.$route.params.id,name:this.newTaskList.name,color:this.newTaskList.color,position:this.newTaskList.position})},resetFormInputs(){this.newTaskList.id="",this.newTaskList.space_id="",this.newTaskList.name="",this.newTaskList.color="",this.newTaskList.position=""},closePopup(){$("#newListPopup").modal("hide")},getStringVal(e=null){if(e!==null)return e.toString()}}},ma={class:"modal fade task-modal-content",id:"newListPopup",tabindex:"-1",role:"dialog","aria-labelledby":"NewListkModalLabel","aria-hidden":"true"},pa={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},ua={class:"modal-content"},_a={class:"modal-header"},ha={class:"modal-title",id:"NewListkModalLabel"},ka=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ga={class:"modal-body"},fa={class:"row"},wa={class:"col-md-12 position-relative mb-3"},ba={for:"l-name",class:"form-label"},va={class:"form-group"},Ta={class:"col-12 col-md-6 position-relative mb-3"},ya={for:"l-color",class:"form-label"},$a={class:"form-group"},Sa={class:"col-12 col-md-6 position-relative mb-3"},La={for:"l-position",class:"form-label"},Ea={class:"form-group"},Ia={class:"modal-footer"},Ca={type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},Pa={type:"submit",class:"btn btn-primary"};function Fa(e,s,i,r,o,a){return d(),m("div",null,[t("div",ma,[t("div",pa,[t("div",ua,[t("form",{onSubmit:s[3]||(s[3]=j(n=>a.createOrUpdateList(),["prevent"]))},[t("div",_a,[t("h5",ha,c(e.$t("forms.labels.create_new_list_tasks_status")),1),ka]),t("div",ga,[t("div",fa,[t("div",wa,[t("label",ba,c(e.$t("forms.labels.list_name")),1),t("div",va,[_(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=n=>o.newTaskList.name=n),class:v(["form-control",[e.createListFormErrors.name?"is-invalid":""]]),id:"l-name",placeholder:"Task List Name"},null,2),[[I,o.newTaskList.name]]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.createListFormErrors.name)),513),[[T,e.createListFormErrors.name]])])]),t("div",Ta,[t("label",ya,c(e.$t("forms.labels.color")),1),t("div",$a,[_(t("input",{type:"color","onUpdate:modelValue":s[1]||(s[1]=n=>o.newTaskList.color=n),class:v(["form-control",[e.createListFormErrors.color?"is-invalid":""]]),id:"l-color",placeholder:"Task List Name"},null,2),[[I,o.newTaskList.color]]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.createListFormErrors.color)),513),[[T,e.createListFormErrors.color]])])]),t("div",Sa,[t("label",La,c(e.$t("forms.labels.order")),1),t("div",Ea,[_(t("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=n=>o.newTaskList.position=n),class:v(["form-control",[e.createListFormErrors.position?"is-invalid":""]]),id:"l-position",placeholder:" List position"},null,2),[[I,o.newTaskList.position]]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.createListFormErrors.position)),513),[[T,e.createListFormErrors.position]])])])])]),t("div",Ia,[t("button",Ca,c(e.$t("forms.btns.cancel")),1),t("button",Pa,c(e.$t("forms.btns.save")),1)])],32)])])])])}const Aa=b(da,[["render",Fa]]);const Ua=je(Ke,Me);let le="";const xa=Na();function Na(){switch("production"){case"production":return"https://budget.help/api/v1";case"development":return"https://test.budget.help/api/v1";case"local":return"https://budget.test/api/v1";default:return"https://budget.help/api/v1"}}De({server:{url:xa+"/tasks/media_upload",headers:{Authorization:"Bearer "+Y()},process:{onerror:e=>{le=JSON.parse(e)}}},labelFileProcessingError:()=>le.message});const Ra={name:"TaskPopup",props:[],components:{"v-select":te,FilePond:Ua,Datepicker:qe},data(){return{showTaskPriorityDropdown:!1,showTaskPriority:!0,currentWorkSpace:"",spacelists:[],workspacespaceUserslist:[],priorityList:["normal","low","medium","high","highest"],selectedUsers:[],selectedStatus:[],formErrors:[],taskFiles:"",old_status_id:0,expiry_time:"",markdwonContent:"",text:"",newTask:{id:"",name:"",description:"",space_id:"",status_id:"",priority:"normal",users:[],files:[]},formType:""}},mounted(){},created(){this.getWorkspaceUsers(),this.emitter.on("open-new-task-popup",e=>{this.showCreateNewTaskPopup(e.type,e.taskData)}),this.emitter.on("close-task-popup",this.closePopup)},computed:{...S({activeworkspace:"activeworkspace",createTaskFormErrors:"createTaskFormErrors",isLoading:"isLoading"}),usersList:function(){return this.activeworkspace.users.map(function(e){return{value:e.id,name:e.name+" "+e.father_name+" "+e.family_name}})},taskStatuses:function(){return this.spacelists.map(function(e){return{value:e.id,name:e.name}})}},methods:{...y({getWorkspaceUsers:"getWorkspaceUsers",createNewTask:"createNewTask",updateTask:"updateTask"}),showCreateNewTaskPopup(e,s=null){this.$store.state.createTaskFormErrors={},e=="create"?this.resetFormInputs():(this.newTask.id=s?s.id:"",this.selectedStatus=s&&s.status?this.getSelectedStatus(s.status):"",this.newTask.priority=s?s.priority:"",this.newTask.progress=s?s.progress:0,this.newTask.name=s?s.name:"",this.newTask.description=s?s.description:"",this.selectedUsers=s?this.getSelectedUsers(s.assigned_users):"",this.newTask.files=s?s.mediaFullUrls:[],this.setUploadedFilesForTask(s.mediaFullUrls),this.old_status_id=s?s.status_id:0,this.expiry_time=s?s.expiry_time:"",this.expiry_time=s?s.expiry_time:""),this.formType=e,this.newTask.space_id=this.$route.params.id,this.spacelists=this.activeworkspace.statuses,this.workspacespaceUserslist=this.activeworkspaceUsers,$("#taskPopup").modal("show")},createOrUpdateTask(){let e=this.selectedUsers!=null||this.selectedUsers!=null?this.setSelectedUsers(this.selectedUsers):[],s=this.$refs.pond.getFiles()!=null||this.$refs.pond.getFiles()!=null?this.getUploadedFiles(this.$refs.pond.getFiles()):[];this.formType=="create"?this.createNewTask({name:this.newTask.name,description:this.newTask.description,priority:this.newTask.priority,progress:this.newTask.progress,users:e,status_id:this.selectedStatus.value,space_id:this.newTask.space_id,attachments:s,expiry_time:this.expiry_time,old_status_id:this.old_status_id}):this.updateTask({id:this.newTask.id,name:this.newTask.name,priority:this.newTask.priority,description:this.newTask.description,progress:this.newTask.progress,users:e,status_id:this.selectedStatus.value,space_id:this.newTask.space_id,attachments:s,expiry_time:this.expiry_time,old_status_id:this.old_status_id})},closePopup(){$("#taskPopup").modal("hide")},resetFormInputs(){this.newTask.id="",this.newTask.name="",this.newTask.description="",this.newTask.status_id="",this.newTask.priority="",this.newTask.progress="",this.newTask.users=[],this.$refs.pond.removeFiles(),this.old_status_id=0,this.expiry_time="",this.selectedStatus="",this.selectedUsers=""},setNewPriority(e){this.showTaskPriorityDropdown=!this.showTaskPriorityDropdown,this.showTaskPriority=!this.showTaskPriority},setSelectedStatus(e){this.selectedStatus=e},getSelectedStatus(e){return{value:e.id,name:e.name}},setSelectedPriority(e){this.newTask.priority=e},setSelectedUsers(e){let s=[];return typeof e!=null&&typeof e=="object"&&e.forEach(i=>{Number.isInteger(i.value)&&s.push(i.value)}),s},getSelectedUsers(e=null){let s=[];return typeof e!=null&&typeof e=="object"&&e.forEach(i=>{s.push({value:i.id,name:i.name+" "+i.father_name+" "+i.family_name})}),s},getUploadedFiles(e){let s=[];return e.forEach(i=>{i&&s.push({id:i.id,serverId:i.serverId})}),s},setUploadedFilesForTask(e){let s=this.$refs.pond;e!=null&&typeof(e=="Array"||e=="Object")?(s.removeFiles(),e.forEach(i=>{i&&s.addFile(i)})):s.value=[]},getStringVal(e=null){if(e!==null)return e.toString()},handleFilePondInit:function(){},handleFilePondGalleryProcess:function(e,s){},handleFilePondGalleryRemoveFile:function(e,s){},handleFilesUpdated:function(e){this.fileList=e}},watch:{createTaskFormErrors(e,s){}}},Wa={class:"modal fade task-modal-content",id:"taskPopup",tabindex:"-1",role:"dialog","aria-labelledby":"NewTaskModalLabel","aria-hidden":"true"},Oa={class:"modal-dialog modal-dialog-centered modal-lg"},Va={class:"modal-content"},ja={class:"modal-header"},Ma={class:"modal-title",id:"NewTaskModalLabel"},Ka=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Da={class:"modal-body"},qa={class:"row"},Ha={class:"position-relative0 mb-2 col-12 col-md-12"},Ba={class:"form-label",for:"t-name"},Ga={class:"row"},Ya={class:"col-12 col-md-6"},za={class:"mb-2"},Ja={class:"form-label"},Xa={class:"col-12 col-md-6"},Qa={class:"mb-2"},Za={for:"task-priority2",class:"form-label"},en={class:"row"},sn={class:"col-12"},tn={class:"mb-2"},on={for:"task-description",class:"form-label"},an={class:"col-12 col-md-12"},nn={class:"mb-2"},rn={for:"t-users",class:"form-label"},cn={class:"row"},ln={class:"col-12 col-md-6"},dn={class:"mb-2"},mn={class:"form-label",for:"t-progress"},pn={class:"col-12 col-md-6"},un={class:"mb-2"},_n={class:"form-label",for:"expiry_time"},hn={class:"row"},kn={class:"col-12 col-md-12 my-4"},gn={type:"button",class:"btn btn-danger btn-group-lg mx-2","data-bs-dismiss":"modal"},fn={type:"submit",class:"btn btn-primary btn-group-lg mx-2"};function wn(e,s,i,r,o,a){const n=h("v-select"),l=h("datepicker"),p=h("file-pond");return d(),m("div",Wa,[t("div",Oa,[t("div",Va,[t("div",ja,[t("h4",Ma,c(e.$t("forms.labels.create_new_task")),1),Ka]),t("div",Da,[t("form",{onSubmit:s[7]||(s[7]=j(u=>a.createOrUpdateTask(),["prevent"]))},[t("div",qa,[t("div",Ha,[t("label",Ba,c(e.$t("forms.labels.task_title")),1),_(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=u=>o.newTask.name=u),class:v(["form-control",[e.createTaskFormErrors.name?"is-invalid":""]]),id:"t-name",placeholder:"Task name"},null,2),[[I,o.newTask.name]]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.createTaskFormErrors.name)),513),[[T,e.createTaskFormErrors.name]])])]),t("div",Ga,[t("div",Ya,[t("div",za,[t("label",Ja,c(e.$t("forms.labels.status")),1),f(n,{modelValue:o.selectedStatus,"onUpdate:modelValue":s[1]||(s[1]=u=>o.selectedStatus=u),ref:"vueDropdown",options:a.taskStatuses,label:"name",id:"t-status",onInput:a.setSelectedStatus,class:v([[e.createTaskFormErrors.status_id?"is-invalid":""],"custom-v-select"]),clearable:!0,closeOnSelect:!0},null,8,["modelValue","options","onInput","class"]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.createTaskFormErrors.status_id)),513),[[T,e.createTaskFormErrors.status_id]])])]),t("div",Xa,[t("div",Qa,[t("label",Za,c(e.$t("forms.labels.priority")),1),f(n,{modelValue:o.newTask.priority,"onUpdate:modelValue":s[2]||(s[2]=u=>o.newTask.priority=u),ref:"vueDropdown",options:o.priorityList,label:"name",id:"t-priority",onInput:a.setSelectedPriority,class:v([[e.createTaskFormErrors.priority?"is-invalid":""],"custom-v-select"]),clearable:!0,closeOnSelect:!0},null,8,["modelValue","options","onInput","class"]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.createTaskFormErrors.priority)),513),[[T,e.createTaskFormErrors.priority]])])])]),t("div",en,[t("div",sn,[t("div",tn,[t("label",on,c(e.$t("forms.labels.description")),1),_(t("textarea",{"onUpdate:modelValue":s[3]||(s[3]=u=>o.newTask.description=u),class:v(["form-control",[e.createTaskFormErrors.description?"is-invalid":""]]),id:"t-description",rows:"3"},null,2),[[I,o.newTask.description]]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.createTaskFormErrors.description)),513),[[T,e.createTaskFormErrors.description]])])]),t("div",an,[t("div",nn,[t("label",rn,c(e.$t("forms.labels.assign_to")),1),f(n,{multiple:"",modelValue:o.selectedUsers,"onUpdate:modelValue":s[4]||(s[4]=u=>o.selectedUsers=u),ref:"vueDropdown",options:a.usersList,label:"name",id:"t-users",class:v([[e.createTaskFormErrors.users?"is-invalid":""],"custom-v-select"]),clearable:!0,closeOnSelect:!1},null,8,["modelValue","options","class"]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.createTaskFormErrors.users)),513),[[T,e.createTaskFormErrors.users]])])])]),t("div",cn,[t("div",ln,[t("div",dn,[t("label",mn,c(e.$t("forms.labels.progress")),1),_(t("input",{type:"number","onUpdate:modelValue":s[5]||(s[5]=u=>o.newTask.progress=u),class:v(["form-control",[e.createTaskFormErrors.progress?"is-invalid":""]]),id:"t-progress",placeholder:"Task progress"},null,2),[[I,o.newTask.progress]]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.createTaskFormErrors.progress)),513),[[T,e.createTaskFormErrors.progress]])])]),t("div",pn,[t("div",un,[t("label",_n,c(e.$t("forms.labels.expiry_time")),1),f(l,{modelValue:o.expiry_time,"onUpdate:modelValue":s[6]||(s[6]=u=>o.expiry_time=u),id:"expiry_time",name:"uniquename"},null,8,["modelValue"]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.createTaskFormErrors.expiry_time)),513),[[T,e.createTaskFormErrors.expiry_time]])])])]),t("div",hn,[t("div",kn,[f(p,{name:"test",ref:"pond","label-idle":"Drop files here...","allow-multiple":!0,files:o.taskFiles,onInit:a.handleFilePondInit,onProcessfile:a.handleFilePondGalleryProcess,onRemovefile:a.handleFilePondGalleryRemoveFile,onUpdatefiles:a.handleFilesUpdated,"max-files":"10"},null,8,["files","onInit","onProcessfile","onRemovefile","onUpdatefiles"])])]),t("button",gn,c(e.$t("forms.btns.cancel")),1),t("button",fn,c(e.$t("forms.btns.save")),1)],32)])])])])}const bn=b(Ra,[["render",wn]]);const vn={name:"vanillaIconPicker",emit:["click","update:model-value","submit"],props:{modelValue:{type:String,default:"",required:!0},label:{type:String,default:"Choose Icon",required:!1}},setup(){const e=new re("input",{theme:"bootstrap-5",iconSource:["FontAwesome Brands 5","FontAwesome Solid 5","FontAwesome Regular 5"],closeOnSelect:!0,defaultValue:null,i18n:{"input:placeholder":"Search icon\u2026","text:title":"Select icon","text:empty":"No results found\u2026","btn:save":"Save"}}),s=V(""),i=O(()=>s!=""||s!=null?s.value:null),r=()=>{e.show()},o=document.querySelector(".input-group-text");e.on("select",l=>{s.value=l.value,n(l)});const a=new re(".btn",{theme:"default",iconSource:["FontAwesome Brands 5","FontAwesome Solid 5","FontAwesome Regular 5"],closeOnSelect:!0});document.querySelector(".icon-selected-text"),a.on("select",l=>{});const n=l=>{emitter.emit("update-icon-value",{iconVal:l})};return{vanillaIconPicker:e,selectedIcon:s,selectedIconPreview:i,openIconPicker:r,iconElementInput:o,iconPickerButton:a,handleChange:n}},mounted(){}},Tn={class:"input-group"},yn={key:0},$n=["value"];function Sn(e,s,i,r,o,a){return d(),m("div",Tn,[t("button",{type:"button",onClick:s[0]||(s[0]=(...n)=>r.openIconPicker&&r.openIconPicker(...n)),class:"btn btn-primary mx-1 text-sm"},[r.selectedIconPreview?(d(),m("span",{key:1,class:v(r.selectedIconPreview)},null,2)):(d(),m("span",yn,c(i.label),1))]),_(t("input",{type:"text",onClick:s[1]||(s[1]=(...n)=>r.openIconPicker&&r.openIconPicker(...n)),value:i.modelValue,"onUpdate:modelValue":s[2]||(s[2]=n=>r.selectedIcon=n),id:"icon-picker",class:"form-control"},null,8,$n),[[I,r.selectedIcon]])])}const Ln=b(vn,[["render",Sn]]);const En={name:"LinkPopup",emits:["click"],components:{"vanilla-icon-picker":Ln},data(){return{picedIcon:{class:void 0,unicode:void 0,icon_color:"#000"},LinkItems:{id:"",name:"",link:"#",icon:"",icon_color:"icon_color",space_id:"",parent_id:null,notes:""},formType:""}},created(){this.emitter.on("open-new-link-popup",e=>{this.setupLinkItem(e.type,e.linkData)}),this.emitter.on("close-link-popup",this.closePopup),this.emitter.on("update-icon-value",e=>{this.updateIconValue(e.iconVal)})},computed:{...S({linkFormErrors:"linkFormErrors",isLoading:"isLoading"}),selectedIcon(){return"fab fa-"+this.picedIcon.class}},methods:{...y({createNewLink:"createNewLink",updateLink:"updateLink"}),setupLinkItem(e,s=null){this.$store.state.linkFormErrors={},this.formType=e,e=="create"?this.resetFormInputs():(this.LinkItems.id=s?s.id:"",this.LinkItems.name=s?s.name:"",this.LinkItems.link=s?s.link:"#",this.LinkItems.icon=s?s.icon:"",this.LinkItems.icon_color=s?s.icon_color:"",this.picedIcon.class=s?s.icon:"",this.picedIcon.icon_color=s?s.icon_color:"",this.LinkItems.parent_id=s?s.parent_id:null,this.LinkItems.notes=s?s.notes:""),$("#linkPopup").modal("show")},createOrUpdateLink(){this.formType=="create"?this.createNewLink({space_id:this.$route.params.id,name:this.LinkItems.name,link:this.LinkItems.link,icon:this.LinkItems.icon,icon_color:this.LinkItems.icon_color,parent_id:this.LinkItems.parent_id,notes:this.LinkItems.notes}):this.updateLink({id:this.LinkItems.id,space_id:this.$route.params.id,name:this.LinkItems.name,link:this.LinkItems.link,icon:pickedIconClass,icon_color:this.LinkItems.icon_color,parent_id:this.LinkItems.parent_id,notes:this.LinkItems.notes})},resetFormInputs(){this.LinkItems.id="",this.LinkItems.space_id="",this.LinkItems.name="",this.LinkItems.link="",this.LinkItems.icon="",this.LinkItems.icon_color="",this.LinkItems.parent_id="",this.LinkItems.notes=""},closePopup(){$("#linkPopup").modal("hide")},getStringVal(e=null){if(e!==null)return e.toString()},updateIconValue(e){this.LinkItems.icon=e?e.value:""}},watch:{"picedIcon.class"(e){}}},In=e=>(B("data-v-c65228fe"),e=e(),G(),e),Cn={class:"modal fade task-modal-content",id:"linkPopup",tabindex:"-1",role:"dialog","aria-labelledby":"NewListkModalLabel","aria-hidden":"true"},Pn={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Fn={class:"modal-content"},An={class:"modal-header"},Un={class:"modal-title",id:"NewListkModalLabel"},xn=In(()=>t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),Nn={class:"modal-body"},Rn={class:"row"},Wn={class:"col-12 col-md-12 position-relative mb-3"},On={for:"l-name",class:"form-label"},Vn={class:"form-group"},jn={class:"col-12 col-md-6 position-relative mb-3"},Mn={for:"l-icon",class:"form-label"},Kn={class:"form-group"},Dn={class:"col-12 col-md-6 position-relative mb-3"},qn={for:"l-icon_color",class:"form-label"},Hn={class:"form-group"},Bn={class:"col-md-12 position-relative mb-3"},Gn={for:"l-link",class:"form-label"},Yn={class:"form-group"},zn={class:"col-md-12 position-relative mb-3"},Jn={for:"l-notes",class:"form-label"},Xn={class:"form-group"},Qn={class:"modal-footer"},Zn={type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},er={type:"submit",class:"btn btn-primary"};function sr(e,s,i,r,o,a){const n=h("vanilla-icon-picker");return d(),m("div",null,[t("div",Cn,[t("div",Pn,[t("div",Fn,[t("form",{onSubmit:s[4]||(s[4]=j(l=>a.createOrUpdateLink(),["prevent"]))},[t("div",An,[t("h5",Un,c(e.$t("forms.labels.create_new_link")),1),xn]),t("div",Nn,[t("div",Rn,[t("div",Wn,[t("label",On,c(e.$t("forms.labels.name")),1),t("div",Vn,[_(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=l=>o.LinkItems.name=l),class:v(["form-control",[e.linkFormErrors.name?"is-invalid":""]]),id:"l-name",placeholder:"Link Name"},null,2),[[I,o.LinkItems.name]]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.linkFormErrors.name)),513),[[T,e.linkFormErrors.name]])])]),t("div",jn,[t("label",Mn,[g(c(e.$t("forms.labels.link_icon"))+" ",1),t("i",{class:v(["text-xxl-center picked-icon",a.selectedIcon])},null,2)]),t("div",Kn,[f(n,{"model-value":o.LinkItems.icon},null,8,["model-value"]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.linkFormErrors.icon)),513),[[T,e.linkFormErrors.icon]])])]),t("div",Dn,[t("label",qn,c(e.$t("forms.labels.color")),1),t("div",Hn,[_(t("input",{type:"color","onUpdate:modelValue":s[1]||(s[1]=l=>o.picedIcon.icon_color=l),class:v(["form-control",[e.linkFormErrors.icon_color?"is-invalid":""]]),id:"l-icon_color",placeholder:"Select Icon Color"},null,2),[[I,o.picedIcon.icon_color]]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.linkFormErrors.icon_color)),513),[[T,e.linkFormErrors.color]])])]),t("div",Bn,[t("label",Gn,c(e.$t("forms.labels.URL")),1),t("div",Yn,[_(t("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=l=>o.LinkItems.link=l),class:v(["form-control",[e.linkFormErrors.link?"is-invalid":""]]),id:"l-link",placeholder:"Link Url"},null,2),[[I,o.LinkItems.link]]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.linkFormErrors.link)),513),[[T,e.linkFormErrors.link]])])]),t("div",zn,[t("label",Jn,c(e.$t("forms.labels.notes")),1),t("div",Xn,[_(t("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=l=>o.LinkItems.notes=l),class:v(["form-control",[e.linkFormErrors.notes?"is-invalid":""]]),id:"l-notes",placeholder:"Link Notes"},null,2),[[I,o.LinkItems.notes]]),_(t("div",{class:"text-danger invalid-feedback"},c(a.getStringVal(e.linkFormErrors.notes)),513),[[T,e.linkFormErrors.notes]])])])])]),t("div",Qn,[t("button",Zn,c(e.$t("forms.btns.cancel")),1),t("button",er,c(e.$t("forms.btns.save")),1)])],32)])])])])}const tr=b(En,[["render",sr],["__scopeId","data-v-c65228fe"]]),or={name:"LinkItem",emits:["click"],props:["link"],components:{},data(){return{}},created(){},computed:{...S({})},methods:{...y({}),openLink(e){window.open(e,"_blank","noreferrer")},updateLink(e){this.emitter.emit("open-new-link-popup",{type:"edit",linkData:e})}}},ir={class:"shadow-none mx-2"},ar={type:"button",class:"btn btn-primary mx-1 text-sm"};function nr(e,s,i,r,o,a){return d(),m("div",{class:"p-0 m-1 d-inline-block bd-highlight",onClick:s[0]||(s[0]=n=>a.openLink(i.link.link)),onDblclick:s[1]||(s[1]=n=>a.updateLink(i.link))},[t("a",ir,[t("button",ar,[g(c(i.link.name)+" ",1),t("span",{class:v(i.link.icon),style:ie({color:i.link.icon_color})},null,6)])])],32)}const rr=b(or,[["render",nr]]),cr={name:"Links",props:[],components:{LinkItem:rr},data(){return{}},computed:{...S({activeworkspace:"activeworkspace"}),workspaceLinks(){return this.$store.state.activeworkspace?this.$store.state.activeworkspace.links:[]}},methods:{...y({})}},lr={key:0,class:"col-12"},dr={class:"d-flex flex-row"},mr={class:"p-2 bd-highlight"};function pr(e,s,i,r,o,a){const n=h("link-item");return a.workspaceLinks?(d(),m("div",lr,[t("div",dr,[t("div",mr,c(e.$t("forms.labels.common_links")),1),(d(!0),m(A,null,U(a.workspaceLinks,(l,p)=>(d(),M(n,{key:p,link:l},null,8,["link"]))),128))])])):k("",!0)}const ur=b(cr,[["render",pr]]);const _r={name:"Workspace",props:["workspace"],components:{Taskitem:ve,list:la,TaskDetailPopup:H,BreadCrumbs:we,Navbar:be,NewTaskListPopup:Aa,TaskPopup:bn,draggable:pe,LinkPopup:tr,Links:ur},setup(e,s){He();const i=Be(),r=ue(),{t:o}=Ge();_e("emitter");const a=!0,n="workspace",l=o("breadcrumbs.workspace"),p="workspace",u=window.dashboardUrl+"/ar/dashboard",L=o("breadcrumbs.home"),N=window.dashboardUrl+"/ar/dashboard/tasks",x=o("breadcrumbs.tasks_app"),E=o("breadcrumbs.workspaces"),P="",J=o("breadcrumbs.tasks_list"),$e=i.params.taskSlug,X=i.params.id,Se=i.params.taskSlug,Le=V(""),ne=r.dispatch("getActiveWorkspace",{space_id:i.params.id}),Ee=O(()=>r.getters?r.getters.activeworkspace:r.getters.allworkspaces.find(F=>F.id==X));r.getters.activeworkspace?r.getters.activeworkspace.name:V("");const Ie=O(()=>r.getters.activeworkspace?r.getters.activeworkspace.statuses:r.getters.allworkspaces.find(F=>F.id==X).lists),Q=F=>{typeof F!=null&&typeof F=="string"&&this.emitter.emit("open-task-detail-popup",{taskSlug:F})};return he(()=>{Q(i.params.taskSlug)}),ce(n,(F,Ce)=>{ne({workspace:F})}),ce(i,(F,Ce)=>{F.params.taskSlug!=null&&Q(F)}),{showAlertMsg:a,currentBoard:n,currentPage:l,parentPage:p,homeLink:u,homeTitle:L,taskLink:N,mainTitle:x,subTitle:E,subSubTitle:P,pageTitle:J,showModal:$e,param:X,taskSlug:Se,boardName:Le,getworkspace:Ee,spacelists:Ie,openTaskDetailPopoup:Q,getActiveWorkspace:ne}}},hr={class:"content-page0"},kr={class:"content"},gr={class:"container-fluid"},fr={class:"row"},wr={class:"col-12 mb-4"},br={class:"board"};function vr(e,s,i,r,o,a){const n=h("bread-crumbs"),l=h("navbar"),p=h("links"),u=h("list"),L=h("new-task-list-popup"),N=h("task-popup"),x=h("task-detail-popup"),E=h("Link-popup");return d(),m("div",hr,[t("div",kr,[t("div",gr,[f(n,{"home-link":r.homeLink,"home-title":r.homeTitle,"main-title":r.mainTitle,"task-link":r.taskLink,"sub-title":r.subTitle,"sub-sub-title":e.getworkspacename,"page-title":r.pageTitle,"curent-space":e.$route.params.id},null,8,["home-link","home-title","main-title","task-link","sub-title","sub-sub-title","page-title","curent-space"]),f(l,{"parent-page":"workspace"}),t("div",fr,[f(p),t("div",wr,[t("div",br,[(d(!0),m(A,null,U(r.spacelists,(P,J)=>(d(),M(u,{key:J,workspace:r.getworkspace,list:P,"list-id":P.id},null,8,["workspace","list","list-id"]))),128))])])])])]),f(L),f(N),f(x),f(E)])}const Tr=b(_r,[["render",vr],["__scopeId","data-v-5e611c3f"]]);const yr={name:"WorkSpaces",emits:["click"],components:{Navbar:be,BreadCrumbs:we,NewWorkSpacePopup:ht},data(){return{documents:[],homeLink:window.dashboardUrl+"/ar/dashboard",homeTitle:this.$t("breadcrumbs.home"),taskLink:window.dashboardUrl+"/ar/dashboard/tasks",currentPage:this.$t("breadcrumbs.workspaces"),mainTitle:this.$t("breadcrumbs.tasks_app"),subTitle:this.$t("breadcrumbs.workspaces"),subSubTitle:"",pageTitle:this.$t("breadcrumbs.workspaces")}},mounted(){this.emitter.on("close-workspace-popup",e=>{this.closeWorkspacePopup(e)})},created(){},computed:{...S({allworkspaces:"allworkspaces",activeworkspace:"activeworkspace",unarchivedworkspaces:"unarchivedworkspaces",archivedworkspaces:"archivedworkspaces"})},methods:{...y({getActiveWorkspace:"getActiveWorkspace",deleteWorkSpace:"deleteWorkSpace",archiveWorkspace:"archiveWorkspace",restoreWorkspace:"restoreWorkspace"}),totalItems(e){let s=0;return e.forEach(i=>{i.items&&(s+=i.items.length)}),s},handleArchiveWorkspace(e){this.archiveWorkspace({workspaceId:e.id})},handleRestoreWorkspace(e){this.restoreWorkspace({workspaceId:e.id})},editWorkSpace(e){this.emitter.emit("open-new-workspace-popup",{type:"edit",spaceData:e})},deleteWorkSpaceItem(e){this.deleteWorkSpace({id:e.id})},async goToWorkspace(e){this.$router.push({name:"workspace",params:{id:e}})},closeWorkspacePopup(){$("#newSpacePopup").modal("hide")}}},R=e=>(B("data-v-8edba07b"),e=e(),G(),e),$r={class:"workspaces-page"},Sr={class:"content"},Lr={class:"container-fluid"},Er={class:"row"},Ir={class:"card d-block"},Cr={class:"card-body"},Pr={class:"dropdown card-widgets"},Fr=R(()=>t("a",{href:"#",class:"dropdown-toggle arrow-none","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"ri-more-fill"})],-1)),Ar={class:"dropdown-menu dropdown-menu-end"},Ur=["onClick"],xr=R(()=>t("i",{class:"mdi mdi-pencil me-1"},null,-1)),Nr=["onClick"],Rr=R(()=>t("i",{class:"mdi mdi-delete me-1"},null,-1)),Wr={class:"mt-0"},Or={class:"project-card"},Vr=["onClick"],jr=R(()=>t("i",{class:"ri-notification-3-fill color-danger"},null,-1)),Mr={class:"color-danger"},Kr={class:"text-muted font-13"},Dr={class:"mb-1"},qr={class:"pe-1 text-nowrap mb-1 d-inline-block"},Hr=R(()=>t("i",{class:"mdi mdi-format-list-bulleted-type text-muted"},null,-1)),Br={class:"pe-1 text-nowrap mb-1 d-inline-block"},Gr=R(()=>t("i",{class:"mdi mdi-comment-multiple-outline text-muted"},null,-1)),Yr={class:"pe-1 text-nowrap mb-1 d-inline-block"},zr=R(()=>t("i",{class:"mdi mdi-account-multiple-outline text-muted"},null,-1)),Jr={id:"tooltip-container"},Xr=["title"],Qr=["src","alt"],Zr={class:"d-inline-block text-muted fw-bold ms-2"},ec=R(()=>t("ul",{class:"list-group list-group-flush"},[t("li",{class:"list-group-item p-3"},[t("div",{class:"progress progress-sm"},[t("div",{class:"progress-bar",role:"progressbar",style:{width:"25%"},"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"})])])],-1));function sc(e,s,i,r,o,a){const n=h("bread-crumbs"),l=h("navbar"),p=h("new-work-space-popup");return d(),m("div",$r,[t("div",Sr,[t("div",Lr,[f(n,{"home-link":o.homeLink,"home-title":o.homeTitle,"task-link":o.taskLink,"main-title":o.mainTitle,"page-title":o.pageTitle},null,8,["home-link","home-title","task-link","main-title","page-title"]),f(l,{"parent-page":"workspaces"}),t("div",Er,[(d(!0),m(A,null,U(e.allworkspaces,u=>(d(),m("div",{key:u.id,class:"col-12 col-md-6 col-xxl-3"},[t("div",Ir,[t("div",Cr,[t("div",Pr,[Fr,t("div",Ar,[t("a",{href:"javascript:void(0);",onClick:L=>a.editWorkSpace(u),class:"dropdown-item"},[xr,g(c(e.$t("forms.btns.edit")),1)],8,Ur),t("a",{href:"javascript:void(0);",onClick:L=>a.deleteWorkSpaceItem(u),class:"dropdown-item"},[Rr,g(c(e.$t("forms.btns.delete")),1)],8,Nr)])]),t("h4",Wr,[t("div",Or,[t("a",{onClick:L=>a.goToWorkspace(u.id),class:"text-title"},c(u.name),9,Vr),jr,t("span",Mr,c(u.notifications_count),1)])]),t("p",Kr,c(u.description)+" ",1),t("p",Dr,[t("span",qr,[Hr,t("b",null,c(u.all_tasks_count),1),g(" Tasks ")]),t("span",Br,[Gr,t("b",null,c(u.statuses_count),1),g(" Lists ")]),t("span",Yr,[zr,t("b",null,c(u.all_users_count),1),g(" Users ")])]),t("div",Jr,[(d(!0),m(A,null,U(u.users,(L,N)=>(d(),m("a",{key:N,"data-bs-container":"#tooltip-container","data-bs-toggle":"tooltip","data-bs-placement":"top",title:L.name+L.father_name,class:"d-inline-block"},[t("img",{src:L.image_path,class:"rounded-circle avatar-xs",alt:L.name},null,8,Qr)],8,Xr))),128)),t("a",Zr," + "+c(u.all_users_count)+" more ",1)])]),ec])]))),128))]),f(p)])])])}const Te=b(yr,[["render",sc],["__scopeId","data-v-8edba07b"]]),tc="/modules/tasks/build/assets/logo.0c0821af.png",oc={name:"Login",data(){return{remember_me:0,password:"Budget@123",email:"user@budget.help"}},computed:{...S({})},methods:{...y({loginUser:"loginUser"}),login(){this.loginUser({email:this.email,password:this.password,remember_me:this.remember_me,router:this.$router})}}},ic={class:"authentication-bg"},ac={class:"account-pages pt-2 pt-sm-5 pb-4 pb-sm-5"},nc={class:"container"},rc={class:"row justify-content-center"},cc={class:"col-xxl-4 col-lg-5"},lc={class:"card"},dc=t("div",{class:"card-header pt-4 pb-4 text-center bg-primary"},[t("a",{href:"index.html"},[t("span",null,[t("img",{src:tc,alt:"logo",height:"22"})])])],-1),mc={class:"card-body p-4"},pc=t("div",{class:"text-center w-75 m-auto"},[t("h4",{class:"text-dark-50 text-center pb-0 fw-bold"},"Sign In"),t("p",{class:"text-muted mb-4"},"Enter your email address and password to access Tasks Application .")],-1),uc={class:"mb-3"},_c=t("label",{for:"emailaddress",class:"form-label"},"Email address",-1),hc={class:"mb-3"},kc=t("label",{for:"password",class:"form-label"},"Password",-1),gc={class:"input-group input-group-merge"},fc=t("div",{class:"input-group-text","data-password":"false"},[t("span",{class:"password-eye"})],-1),wc={class:"mb-3 mb-3"},bc={class:"form-check"},vc=t("label",{class:"form-check-label",for:"checkbox-signin"},"Remember me",-1),Tc=t("div",{class:"mb-3 mb-0 text-center"},[t("button",{class:"btn btn-primary",type:"submit"}," Log In ")],-1);function yc(e,s,i,r,o,a){return d(),m("div",ic,[t("div",ac,[t("div",nc,[t("div",rc,[t("div",cc,[t("div",lc,[dc,t("div",mc,[pc,t("form",{onSubmit:s[3]||(s[3]=j(n=>a.login(),["prevent"]))},[t("div",uc,[_c,_(t("input",{class:"form-control",type:"email","onUpdate:modelValue":s[0]||(s[0]=n=>o.email=n),id:"emailaddress",required:"",placeholder:"Enter your email"},null,512),[[I,o.email]])]),t("div",hc,[kc,t("div",gc,[_(t("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=n=>o.password=n),id:"password",class:"form-control",placeholder:"Enter your password"},null,512),[[I,o.password]]),fc])]),t("div",wc,[t("div",bc,[_(t("input",{type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=n=>o.remember_me=n),class:"form-check-input",id:"checkbox-signin",checked:""},null,512),[[Ye,o.remember_me]]),vc])]),Tc],32)])])])])])])])}const $c=b(oc,[["render",yc]]),Sc={components:{},data(){return{}},computed:{},methods:{loginRoute(){const e=JSON.parse(localStorage.getItem("userData"));return rs(e?e.role:null)}}},Lc={class:"container"};function Ec(e,s,i,r,o,a){return d(),m("div",Lc," You don\u2019t have permission to access this page. Go Home!! ")}const Ic=b(Sc,[["render",Ec]]),Cc={components:{},data(){return{}},computed:{}},Pc={class:"container"},Fc=t("h5",null," You are Not authorized to show this content ",-1),Ac=[Fc];function Uc(e,s,i,r,o,a){return d(),m("div",Pc,Ac)}const xc=b(Cc,[["render",Uc]]),Nc=[{path:"/",name:"workspaces",component:Te},{path:"/workspace/:id",name:"workspace",component:Tr,children:[{path:"t/:taskSlug",name:"task",components:{page:H,rule:H}}]},{path:"/auth/login",name:"auth-login",component:$c},{path:"/not-authorized",name:"not-authorized",component:Ic},{path:"/403",name:"error-403",component:xc}],Rc=[{action:"read",subject:"Auth"}],de=JSON.parse(localStorage.getItem("userData")),Wc=de?de.ability:null;new ze(Wc||Rc);const ye=Je({history:Xe(),routes:Nc}),Oc=Y();ye.beforeEach((e,s,i)=>{e.name!=="auth-login"&&!Oc?i({name:"auth-login"}):i()});const ee=ye,Vc={name:"app",components:{WorkSpaces:Te},data(){return{msg:"Welcome to Your Kanban App"}},created(){this.goToWorkspaces(),this.fetchData(),this.fetchCompanyUsers({}),this.emitter.on("open-toast-msg",e=>{this.showToastMsg(e)})},computed:{...S({showResponseMsg:"showResponseMsg"}),getResponseMsg(){return this.showResponseMsg}},methods:{...y({fetchData:"fetchData",fetchCompanyUsers:"fetchCompanyUsers"}),goToWorkspaces(){Y()?this.$router.push("/"):this.$router.push("/auth-login")},showToastMsg(e){let s=e.message?e.message:this.$t("messages.default_msg");this.$toast.show(s,{type:e.type?e.type:"success",position:e.position?e.position:"top",duration:e.duration?e.duration:8e3,dismissible:e.dismissible?e.dismissible:!0,queue:e.queue?e.queue:!1,pauseOnHover:e.pauseOnHover?e.pauseOnHover:!0})}}},jc={class:"row"},Mc={class:"col-12"};function Kc(e,s,i,r,o,a){const n=h("router-view");return d(),m("div",jc,[t("div",Mc,[f(n)])])}const Dc=b(Vc,[["render",Kc]]),qc={default_msg:"Done Success",success_add:"Success add",success_update:"Success update",success_delete:"Success delete",errors:{no_records_found:"No Records found"}},Hc={task:"Task",workspace:"Workspace",link:"Link",list:"List"},Bc={btns:{add:"Add",create:"create",new:"New",confirm:"Confirm ",cancel:"Cancel",reset:"Reset",delete:"Delete",close:"Close",edit:"Edit",save:"Save",update:"Update","save changes":"save changes",details:"Details",number:"Number"},labels:{task_title:"Task title",task_details:"Task details",users:"Users",Workspace_description:"Workspace description",Workspace_name:"Workspace name",create_new_workspace:"Create new workspace",create_new_list_tasks_status:"Create New List (Tasks Status)",auther:"Auther:",timing:"Timing:",since:"Since:",create_new_link:"Create New Link",name:"Name",link_icon:"Link Icon",color:"Color",URL:"URL",notes:"Notes",list_name:"List Name",order:"Order",expiry_time:"Expiry Time",progress:"Progress",assign_to:"Assign To",description:"Description",priority:"Priority",status:"Status",create_new_task:"Create New Task",assigned_to:"Assigned To",created_at:"Created At",expiry_at:"Expiry At",reply:"Reply",replies:"Replies",common_links:"Common Links :"},inputs:{task_title:"Task title",task_details:"Task details",search:"Search"},actions:{add_new_task:"Add New task"}},Gc={Showing:"Showing",Show:"Show",from:"From",to:"to",of:"of",entries:"entries",the_entries:"entries"},Yc={home:"Home",tasks_app:"Tasks Management App",tasks_list:"Tasks List",back:"Back",previouse:"Previouse",workspaces:"Workspaces"},zc={messages:qc,modules:Hc,forms:Bc,pagination:Gc,breadcrumbs:Yc},Jc={default_msg:"\u062A\u0645 \u0628\u0646\u062C\u0627\u062D",success_add:"\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D",success_update:"\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D",success_delete:"\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D",errors:{no_records_found:"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629 "}},Xc={task:"\u0645\u0647\u0645\u0629",workspace:"\u0645\u0633\u0627\u062D\u0629 \u0639\u0645\u0644",link:" \u0631\u0627\u0628\u0637",list:" \u0642\u0627\u0626\u0645\u0629"},Qc={btns:{add:"\u0625\u0636\u0627\u0641\u0629 ",create:"\u0625\u0646\u0634\u0627\u0621 ",new:"\u062C\u062F\u064A\u062F ",confirm:"\u062A\u0623\u0643\u064A\u062F ",cancel:"\u0625\u0644\u063A\u0627\u0621",reset:" \u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062D\u0642\u0648\u0644",delete:"\u062D\u0630\u0641",close:"\u0625\u063A\u0644\u0627\u0642",edit:"\u062A\u0639\u062F\u064A\u0644",save:"\u062D\u0641\u0638",update:"\u062A\u062D\u062F\u064A\u062B","save changes":"\u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A",details:"\u062A\u0641\u0627\u0635\u064A\u0644",number:" \u0631\u0642\u0645"},placeholder:{notes:"\u0645\u0644\u0627\u062D\u0638\u0627\u062A"},labels:{task_title:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0647\u0645\u0629",task_details:"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0647\u0645\u0629",users:"\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646",Workspace_description:"\u0648\u0635\u0641 \u0645\u0633\u0627\u062D\u0629 \u0627\u0644\u0639\u0645\u0644",Workspace_name:"\u0627\u0633\u0645 \u0645\u0633\u0627\u062D\u0629 \u0627\u0644\u0639\u0645\u0644",create_new_workspace:"\u0625\u0646\u0634\u0627\u0621 \u0645\u0633\u0627\u062D\u0629 \u0639\u0645\u0644 \u062C\u062F\u064A\u062F\u0629",create_new_list_tasks_status:"\u0625\u0646\u0634\u0627\u0621 \u0642\u0627\u0626\u0645\u0629 \u062C\u062F\u064A\u062F\u0629 (\u062D\u0627\u0644\u0629 \u0627\u0644\u0645\u0647\u0627\u0645)",auther:"\u0627\u0644\u0645\u0624\u0644\u0641 :",timing:"\u0627\u0644\u062A\u0648\u0642\u064A\u062A:",since:"\u0645\u0646\u0630:",create_new_link:"\u0625\u0646\u0634\u0627\u0621\u0631\u0627\u0628\u0637 \u062C\u062F\u064A\u062F",name:"\u0627\u0644\u0627\u0633\u0645",link_icon:"\u0627\u064A\u0642\u0648\u0646\u0629 \u0627\u0644\u0631\u0627\u0628\u0637",color:"\u0627\u0644\u0644\u0648\u0646",URL:"\u0627\u0644\u0631\u0627\u0628\u0637",notes:"\u0645\u0644\u0627\u062D\u0638\u0627\u062A",list_name:"\u0627\u0633\u0645 \u0627\u0644\u0642\u0627\u0626\u0645\u0629",order:"\u062A\u0631\u062A\u064A\u0628",expiry_time:"\u0648\u0642\u062A \u0627\u0644\u0625\u0646\u062A\u0647\u0627\u0621 ",progress:"\u0646\u0633\u0628\u0629 \u0627\u0644\u0625\u0646\u062C\u0627\u0632",assign_to:"\u064A\u0633\u0646\u062F \u0625\u0644\u0649",description:"\u0627\u0644\u0648\u0635\u0641",priority:"\u0627\u0644\u0623\u0648\u0644\u0648\u064A\u0629",status:"\u0627\u0644\u062D\u0627\u0644\u0629",create_new_task:"\u0625\u0646\u0634\u0627\u0621 \u0645\u0647\u0645\u0629 \u062C\u062F\u064A\u062F\u0629",assigned_to:"\u0627\u0633\u0646\u062F\u062A \u0627\u0644\u064A",created_at:"\u0623\u0646\u0634\u0626\u062A \u0641\u064A",expiry_at:"\u0627\u0646\u062A\u0647\u0627\u0621 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0629 \u0641\u064A ",reply:"\u0631\u062F",replies:"\u0627\u0644\u0631\u062F\u0648\u062F",common_links:"\u0627\u0644\u0631\u0648\u0627\u0628\u0637 \u0627\u0644\u0645\u0634\u062A\u0631\u0643\u0629:"},inputs:{task_title:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0647\u0645\u0629",task_details:"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0647\u0645\u0629",search:"\u0628\u062D\u062B"},actions:{add_new_task:"\u0623\u0636\u0641 \u0645\u0647\u0645\u0629 \u062C\u062F\u064A\u062F\u0629"}},Zc={Showing:"\u0639\u0631\u0636",Show:"\u0639\u0631\u0636",from:"\u0645\u0646",to:"\u0625\u0644\u0649",of:"\u0645\u0646",entries:"\u0633\u062C\u0644\u0627\u062A",the_entries:"\u0627\u0644\u0633\u062C\u0644\u0627\u062A"},el={home:"\u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629",tasks_app:"\u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0645\u0647\u0627\u0645",tasks_list:"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0647\u0627\u0645",back:"\u0639\u0648\u062F\u0629",previouse:"\u0627\u0644\u0633\u0627\u0628\u0642",workspaces:"\u0645\u0633\u0627\u062D\u0627\u062A \u0627\u0644\u0639\u0645\u0644"},sl={messages:Jc,modules:Xc,forms:Qc,pagination:Zc,breadcrumbs:el},tl=Qe({legacy:!1,globalInjection:!0,locale:webLocale||"ar",fallbackLocale:"ar",availableLocales:["en","ar"],messages:{en:zc,ar:sl}}),z=ss();window.emitter=z;const C=Ze(Dc);C.use(ee);C.use(fe);C.use(tl);C.use(es,se);C.use(ke);C.use(z);C.use(ge);C.provide("emitter",z);C.config.globalProperties.store=fe;C.config.globalProperties.moment=ge;C.config.globalProperties.toast=ke;C.config.globalProperties.emitter=z;C.config.globalProperties.$http=w;C.config.globalProperties.append=(e,s)=>e+(e.endsWith("/")?"":"/")+s;C.mount("#tasks-app");
